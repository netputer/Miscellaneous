try{!function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="body{margin:0!important;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}.-amp-element{display:inline-block}.-amp-layout-fixed{display:inline-block;position:relative}.-amp-layout-container,.-amp-layout-fixed-height,.-amp-layout-responsive{display:block;position:relative}.-amp-layout-fill{display:block;position:absolute;top:0;left:0;bottom:0;right:0}.-amp-layout-fill,.-amp-layout-size-defined{overflow:hidden!important}i-amp-sizer{display:block!important}.-amp-fill-content{display:block;width:100%;height:100%;margin:auto}.-amp-layout-size-defined .-amp-fill-content{position:absolute;top:0;left:0;bottom:0;right:0}.-amp-unresolved{position:relative!important;overflow:hidden!important}.-amp-notbuilt{position:relative!important;overflow:hidden!important;color:transparent!important}.-amp-notbuilt>*{display:none}.-amp-ghost{visibility:hidden!important}[placeholder]{display:block}[placeholder].hidden{visibility:hidden}.-amp-layout-size-defined [placeholder]{position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1!important}.-amp-notbuilt>[placeholder]{display:block!important}.-amp-hidden-by-media-query{display:none}.-amp-element-error{background:red!important;color:#fff!important;position:relative!important}.-amp-element-error:before{content:attr(error-message)}i-amp-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto}amp-pixel{position:absolute!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden}.-amp-loader{position:absolute;display:block;height:10px;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;white-space:nowrap}.-amp-autoplaceholder.active .-amp-loader-dot{-webkit-animation:a 2s infinite;animation:a 2s infinite}.-amp-loader-dot{position:relative;display:inline-block;height:10px;width:10px;margin:2px;border-radius:100%;background-color:rgba(0,0,0,.3);box-shadow:2px 2px 2px 1px rgba(0,0,0,.2);will-change:transform}.-amp-loader .-amp-loader-dot:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.-amp-loader .-amp-loader-dot:nth-child(2){-webkit-animation-delay:.1s;animation-delay:.1s}.-amp-loader .-amp-loader-dot:nth-child(3){-webkit-animation-delay:.2s;animation-delay:.2s}amp-instagram{padding:48px 8px!important}@-webkit-keyframes a{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,.5)}}@keyframes a{0%,to{-webkit-transform:scale(.7);transform:scale(.7);background-color:rgba(0,0,0,.3)}50%{-webkit-transform:scale(.8);transform:scale(.8);background-color:rgba(0,0,0,.5)}}\n/*# sourceURL=/css/amp.css*/";i.cssText=n},{}],2:[function(e,t,i){"use strict";function n(e,t,i){return e.map(function(e){var n=babelHelpers.slicedToArray(e,2),r=n[0],o=n[1],s=Math.abs(r-t),a=Math.abs(3*(t-r)),u=2*Math.abs(o-i),l=Math.abs(2.5*(i-o));return s-a+(u-l)})}function r(e){Object.keys(e).forEach(function(t){var i=e[t];i.forEach(function(e,t){i[t]=e.replace(/@1x\.png$/,"@2x.png")})})}function o(e){var t=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"createdCallback",value:function(){this.preconnect.threePFrame()}},{key:"renderOutsideViewport",value:function(){return!1}},{key:"isLayoutSupported",value:function(e){return a.isLayoutSizeDefined(e)}},{key:"createdCallback",value:function(){this.iframe_=null,this.placeholder_=this.getPlaceholder(),this.isDefaultPlaceholder_=!1,this.isDefaultPlaceholderSet_=!1}},{key:"buildCallback",value:function(){this.placeholder_?this.placeholder_.classList.add("hidden"):(this.isDefaultPlaceholder_=!0,this.getDpr()>=.5&&r(d))}},{key:"layoutCallback",value:function(){var e=this;return this.iframe_||(this.iframe_=h.getIframe(this.element.ownerDocument.defaultView,this.element),this.applyFillContent(this.iframe_),this.element.appendChild(this.iframe_),h.listen(this.iframe_,"no-content",function(){e.isDefaultPlaceholder_&&!e.isDefaultPlaceholderSet_&&(e.setDefaultPlaceholder_(),e.element.appendChild(e.placeholder_),e.element.removeChild(e.iframe_),e.isDefaultPlaceholderSet_=!0),e.placeholder_.classList.remove("hidden")})),l.loadPromise(this.iframe_)}},{key:"setDefaultPlaceholder_",value:function(){var e=document.createElement("a");e.href="https://www.ampproject.org",e.target="_blank",e.setAttribute("placeholder",""),e.classList.add("hidden");var t=new Image;u.setStyles(t,{width:"auto",height:"100%",margin:"auto"});var i=this.getPlaceholderImage_();t.src="https://ampproject.org/backfill/"+i,this.placeholder_=e,e.appendChild(t)}},{key:"getPlaceholderImage_",value:function(){var e=n(f,this.element.clientWidth,this.element.clientHeight),t=f[e.indexOf(Math.max.apply(Math,babelHelpers.toConsumableArray(e)))],i=d[t.join("x")];return i[Math.floor(Math.random()*i.length)]}}]),t}(s.BaseElement);c.registerElement(e,"amp-ad",t)}Object.defineProperty(i,"__esModule",{value:!0}),i.scoreDimensions_=n,i.upgradeImages_=r,i.installAd=o;var s=e("../src/base-element"),a=e("../src/layout"),u=e("../src/style"),l=e("../src/event-helper"),c=e("../src/custom-element"),h=e("../src/3p-frame"),d={"300x200":["backfill-1@1x.png","backfill-2@1x.png","backfill-3@1x.png","backfill-4@1x.png","backfill-5@1x.png"],"320x50":["backfill-6@1x.png","backfill-7@1x.png"]},f=[[300,200],[320,50]]},{"../src/3p-frame":81,"../src/base-element":85,"../src/custom-element":87,"../src/event-helper":94,"../src/layout":100,"../src/style":115}],3:[function(e,t,i){"use strict";function n(e){var t=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isLayoutSupported",value:function(e){return s.isLayoutSizeDefined(e)}},{key:"buildCallback",value:function(){this.img_=new Image,this.placeholder_=this.getPlaceholder(),this.isDefaultPlaceholder_=!this.placeholder_,this.imgLoadedOnce_=!1,this.element.id&&this.img_.setAttribute("amp-img-id",this.element.id),this.propagateAttributes(["alt"],this.img_),this.applyFillContent(this.img_),this.img_.width=s.getLengthNumeral(this.element.getAttribute("width")),this.img_.height=s.getLengthNumeral(this.element.getAttribute("height")),this.element.appendChild(this.img_),this.srcset_=u.parseSrcset(this.element.getAttribute("srcset")||this.element.getAttribute("src")),this.isDefaultPlaceholder_&&(this.placeholder_=o.createLoaderElement(),this.placeholder_.setAttribute("placeholder",""),this.element.appendChild(this.placeholder_))}},{key:"prerenderAllowed",value:function(){return!0}},{key:"isRelayoutNeeded",value:function(){return!0}},{key:"layoutCallback",value:function(){return this.updateImageSrc_()}},{key:"viewportCallback",value:function(e){this.toggleDefaultPlaceholder_()}},{key:"updateImageSrc_",value:function(){if(this.getLayoutWidth()<=0)return Promise.resolve();var e=this.srcset_.select(this.getLayoutWidth(),this.getDpr()).url;if(e==this.img_.getAttribute("src"))return Promise.resolve();this.img_.setAttribute("src",e);var t=this.onImgLoaded_.bind(this);return a.loadPromise(this.img_).then(t,t)}},{key:"toggleDefaultPlaceholder_",value:function(){var e=this;if(this.isDefaultPlaceholder_){if(this.isInViewport())return c.timer.delay(function(){h.vsync.mutate(function(){e.placeholder_&&(e.placeholder_.classList.toggle("hidden",!e.isInViewport()),e.placeholder_.classList.toggle("active",e.isInViewport()))})},100);this.placeholder_.classList.toggle("hidden",!0),this.placeholder_.classList.toggle("active",!1)}}},{key:"cleanupPlaceholder_",value:function(){var e=this;this.isDefaultPlaceholder_&&!function(){e.isDefaultPlaceholder_=!1;var t=e.placeholder_;e.placeholder_=null,t.classList.remove("active"),t.classList.add("hidden"),e.deferMutate(function(){d.removeElement(t)})}()}},{key:"onImgLoaded_",value:function(e){return this.imgLoadedOnce_=!0,this.cleanupPlaceholder_(),e}}]),t}(r.BaseElement);l.registerElement(e,"amp-img",t)}Object.defineProperty(i,"__esModule",{value:!0}),i.installImg=n;var r=e("../src/base-element"),o=e("../src/loader"),s=e("../src/layout"),a=e("../src/event-helper"),u=e("../src/srcset"),l=e("../src/custom-element"),c=e("../src/timer"),h=e("../src/vsync"),d=e("../src/dom")},{"../src/base-element":85,"../src/custom-element":87,"../src/dom":91,"../src/event-helper":94,"../src/layout":100,"../src/loader":101,"../src/srcset":113,"../src/timer":117,"../src/vsync":122}],4:[function(e,t,i){"use strict";function n(e){var t={RANDOM:function(){return Math.random()},CANONICAL_URL:function(){return a.documentInfoFor(e).canonicalUrl},CANONICAL_HOST:function(){var t=l.parseUrl(a.documentInfoFor(e).canonicalUrl);return t&&t.hostname},CANONICAL_PATH:function(){var t=l.parseUrl(a.documentInfoFor(e).canonicalUrl);return t&&t.pathname},TITLE:function(){return e.document.title},AMPDOC_URL:function(){return l.removeFragment(e.location.href)},AMPDOC_HOST:function(){var t=l.parseUrl(e.location.href);return t&&t.hostname}},i=function(){var e="";for(var i in t)e+=(e.length>0?"|":"")+i;return new RegExp("\\$("+e+")","g")}(),n=function(e){function n(){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"isLayoutSupported",value:function(e){return e==o.Layout.FIXED}},{key:"buildCallback",value:function(){this.element.style.width="",this.element.style.height="",this.element.setAttribute("aria-hidden","true")}},{key:"layoutCallback",value:function(){var e=this.element.getAttribute("src");e=this.assertSource(e),e=e.replace(i,function(e,i){var n=t[i]();return n||0===n||(n=""),encodeURIComponent(n)});var n=new Image;return n.src=e,n.width=1,n.height=1,this.element.style.width=0,this.element.appendChild(n),Promise.resolve()}},{key:"assertSource",value:function(e){return s.assert(/^(https\:\/\/|\/\/)/i.test(e),'The <amp-pixel> src attribute must start with "https://" or "//". Invalid value: '+e),e}}]),n}(r.BaseElement);u.registerElement(e,"amp-pixel",n)}Object.defineProperty(i,"__esModule",{value:!0}),i.installPixel=n;var r=e("../src/base-element"),o=e("../src/layout"),s=e("../src/asserts"),a=e("../src/document-info"),u=e("../src/custom-element"),l=e("../src/url")},{"../src/asserts":84,"../src/base-element":85,"../src/custom-element":87,"../src/document-info":89,"../src/layout":100,"../src/url":118}],5:[function(e,t,i){"use strict";function n(e){var t=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isLayoutSupported",value:function(e){return s.isLayoutSizeDefined(e)}},{key:"layoutCallback",value:function(){var e=this.element.getAttribute("width"),t=this.element.getAttribute("height"),i=document.createElement("video");return this.element.getAttribute("src")&&o.assertHttpsUrl(this.element.getAttribute("src"),this.element),this.propagateAttributes(["src","controls","autoplay","muted","loop","poster"],i),i.width=s.getLengthNumeral(e),i.height=s.getLengthNumeral(t),this.applyFillContent(i),this.getRealChildNodes().forEach(function(e){e.getAttribute&&e.getAttribute("src")&&o.assertHttpsUrl(e.getAttribute("src"),e),i.appendChild(e)}),this.element.appendChild(i),this.video_=i,a.loadPromise(i)}},{key:"documentInactiveCallback",value:function(){return this.video_&&this.video_.pause(),!1}}]),t}(r.BaseElement);u.registerElement(e,"amp-video",t)}Object.defineProperty(i,"__esModule",{value:!0}),i.installVideo=n;var r=e("../src/base-element"),o=e("../src/url"),s=e("../src/layout"),a=e("../src/event-helper"),u=e("../src/custom-element")},{"../src/base-element":85,"../src/custom-element":87,"../src/event-helper":94,"../src/layout":100,"../src/url":118}],6:[function(e,t,i){(function(e){!function(e){var t=e.babelHelpers={};t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},t.defaults=function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e},t.createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),t.createDecoratedClass=function(){function e(e,t,i){for(var n=0;n<t.length;n++){var r=t[n],o=r.decorators,s=r.key;if(delete r.key,delete r.decorators,r.enumerable=r.enumerable||!1,r.configurable=!0,("value"in r||r.initializer)&&(r.writable=!0),o){for(var a=0;a<o.length;a++){var u=o[a];if("function"!=typeof u)throw new TypeError("The decorator for method "+r.key+" is of the invalid type "+typeof u);r=u(e,s,r)||r}if(void 0!==r.initializer){i[s]=r;continue}}Object.defineProperty(e,s,r)}}return function(t,i,n,r,o){return i&&e(t.prototype,i,r),n&&e(t,n,o),t}}(),t.createDecoratedObject=function(e){for(var t={},i=0;i<e.length;i++){var n=e[i],r=n.decorators,o=n.key;if(delete n.key,delete n.decorators,n.enumerable=!0,n.configurable=!0,("value"in n||n.initializer)&&(n.writable=!0),r)for(var s=0;s<r.length;s++){var a=r[s];if("function"!=typeof a)throw new TypeError("The decorator for method "+n.key+" is of the invalid type "+typeof a);n=a(t,o,n)||n}n.initializer&&(n.value=n.initializer.call(t)),Object.defineProperty(t,o,n)}return t},t.defineDecoratedPropertyDescriptor=function(e,t,i){var n=i[t];if(n){var r={};for(var o in n)r[o]=n[o];r.value=r.initializer?r.initializer.call(e):void 0,Object.defineProperty(e,t,r)}},t.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},t.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},t.slicedToArray=function(){function e(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(u){r=!0,o=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var i,n=[],r=e[Symbol.iterator]();!(i=r.next()).done&&(n.push(i.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},t.objectWithoutProperties=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i},t.hasOwn=Object.prototype.hasOwnProperty,t.slice=Array.prototype.slice,t.bind=Function.prototype.bind,t.defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},t.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,i){function n(n,s){try{var a=t[n](s),u=a.value}catch(l){return void i(l)}a.done?e(u):Promise.resolve(u).then(r,o)}var r=n.bind(null,"next"),o=n.bind(null,"throw");r()})}},t.interopExportWildcard=function(e,t){var i=t({},e);return delete i["default"],i},t.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t},t.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},t._typeof=function(e){return e&&e.constructor===Symbol?"symbol":typeof e},t._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t.get=function i(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:i(o,t,n)}if("value"in r)return r.value;var s=r.get;return void 0===s?void 0:s.call(n)},t.set=function n(e,t,i,r){var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var s=Object.getPrototypeOf(e);null!==s&&n(s,t,i,r)}else if("value"in o&&o.writable)o.value=i;else{var a=o.set;void 0!==a&&a.call(r,i)}return i},t.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},t.temporalUndefined={},t.temporalAssertDefined=function(e,t,i){if(e===i)throw new ReferenceError(t+" is not defined - temporal dead zone");return!0},t.selfGlobal="undefined"==typeof e?self:e,t.typeofReactElement="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,t.defaultProps=function(e,t){if(e)for(var i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t},t._instanceof=function(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},t.interopRequire=function(e){return e&&e.__esModule?e["default"]:e}}("undefined"==typeof e?self:e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],8:[function(e,t,i){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":30}],9:[function(e,t,i){"use strict";var n=e("./$.to-object"),r=e("./$.to-index"),o=e("./$.to-length");t.exports=[].fill||function(e){for(var t=n(this,!0),i=o(t.length),s=r(arguments[1],i),a=arguments[2],u=void 0===a?i:r(a,i);u>s;)t[s++]=e;return t}},{"./$.to-index":56,"./$.to-length":59,"./$.to-object":60}],10:[function(e,t,i){var n=e("./$.to-iobject"),r=e("./$.to-length"),o=e("./$.to-index");t.exports=function(e){return function(t,i,s){var a,u=n(t),l=r(u.length),c=o(s,l);if(e&&i!=i){for(;l>c;)if(a=u[c++],a!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===i)return e||c;return!e&&-1}}},{"./$.to-index":56,"./$.to-iobject":58,"./$.to-length":59}],11:[function(e,t,i){var n=e("./$.ctx"),r=e("./$.is-object"),o=e("./$.iobject"),s=e("./$.to-object"),a=e("./$.to-length"),u=e("./$.is-array"),l=e("./$.wks")("species"),c=function(e,t){var i;return u(e)&&r(i=e.constructor)&&(i=i[l],null===i&&(i=void 0)),new(void 0===i?Array:i)(t)};t.exports=function(e){var t=1==e,i=2==e,r=3==e,u=4==e,l=6==e,h=5==e||l;return function(d,f,p){for(var v,m,y=s(d),g=o(y),_=n(f,p,3),b=a(g.length),w=0,k=t?c(d,b):i?c(d,0):void 0;b>w;w++)if((h||w in g)&&(v=g[w],m=_(v,w,y),e))if(t)k[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(u)return!1;return l?-1:r||u?u:k}}},{"./$.ctx":15,"./$.iobject":27,"./$.is-array":29,"./$.is-object":30,"./$.to-length":59,"./$.to-object":60,"./$.wks":63}],12:[function(e,t,i){var n=e("./$.cof"),r=e("./$.wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=(t=Object(e))[r])?i:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},{"./$.cof":13,"./$.wks":63}],13:[function(e,t,i){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],14:[function(e,t,i){var n=t.exports={version:"1.2.1"};"number"==typeof __e&&(__e=n)},{}],15:[function(e,t,i){var n=e("./$.a-function");t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":7}],16:[function(e,t,i){var n=e("./$.global"),r=e("./$.core"),o=e("./$.hide"),s=e("./$.redef"),a="prototype",u=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t,i){var c,h,d,f,p=e&l.G,v=e&l.P,m=p?n:e&l.S?n[t]||(n[t]={}):(n[t]||{})[a],y=p?r:r[t]||(r[t]={});p&&(i=t);for(c in i)h=!(e&l.F)&&m&&c in m,d=(h?m:i)[c],f=e&l.B&&h?u(d,n):v&&"function"==typeof d?u(Function.call,d):d,m&&!h&&s(m,c,d),y[c]!=d&&o(y,c,f),v&&((y[a]||(y[a]={}))[c]=d)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,t.exports=l},{"./$.core":14,"./$.global":22,"./$.hide":24,"./$.redef":44}],17:[function(e,t,i){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],18:[function(e,t,i){var n=e("./$.is-object"),r=e("./$.global").document,o=n(r)&&n(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./$.global":22,"./$.is-object":30}],19:[function(e,t,i){t.exports=function(t){var i=/./;try{"/./"[t](i)}catch(n){try{return i[e("./$.wks")("match")]=!1,!"/./"[t](i)}catch(n){}}return!0}},{"./$.wks":63}],20:[function(e,t,i){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],21:[function(e,t,i){var n=e("./$.ctx"),r=e("./$.iter-call"),o=e("./$.is-array-iter"),s=e("./$.an-object"),a=e("./$.to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,i,l){var c,h,d,f=u(e),p=n(i,l,t?2:1),v=0;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(o(f))for(c=a(e.length);c>v;v++)t?p(s(h=e[v])[0],h[1]):p(e[v]);else for(d=f.call(e);!(h=d.next()).done;)r(d,p,h.value,t)}},{"./$.an-object":8,"./$.ctx":15,"./$.is-array-iter":28,"./$.iter-call":32,"./$.to-length":59,"./core.get-iterator-method":64}],22:[function(e,t,i){var n="undefined",r=t.exports=typeof window!=n&&window.Math==Math?window:typeof self!=n&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],23:[function(e,t,i){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],24:[function(e,t,i){var n=e("./$"),r=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,i){return n.setDesc(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},{"./$":38,"./$.property-desc":43,"./$.support-desc":53}],25:[function(e,t,i){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":22}],26:[function(e,t,i){t.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},{}],27:[function(e,t,i){var n=e("./$.cof");t.exports=0 in Object("z")?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":13}],28:[function(e,t,i){var n=e("./$.iterators"),r=e("./$.wks")("iterator");t.exports=function(e){return(n.Array||Array.prototype[r])===e}},{"./$.iterators":37,"./$.wks":63}],29:[function(e,t,i){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":13}],30:[function(e,t,i){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],31:[function(e,t,i){var n=e("./$.is-object"),r=e("./$.cof"),o=e("./$.wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},{"./$.cof":13,"./$.is-object":30,"./$.wks":63}],32:[function(e,t,i){var n=e("./$.an-object");t.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(o){var s=e["return"];throw void 0!==s&&n(s.call(e)),o}}},{"./$.an-object":8}],33:[function(e,t,i){"use strict";var n=e("./$"),r={};e("./$.hide")(r,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,i,o){t.prototype=n.create(r,{next:e("./$.property-desc")(1,o)}),e("./$.tag")(t,i+" Iterator")}},{"./$":38,"./$.hide":24,"./$.property-desc":43,"./$.tag":54,"./$.wks":63}],34:[function(e,t,i){"use strict";var n=e("./$.library"),r=e("./$.def"),o=e("./$.redef"),s=e("./$.hide"),a=e("./$.has"),u=e("./$.wks")("iterator"),l=e("./$.iterators"),c=!([].keys&&"next"in[].keys()),h="@@iterator",d="keys",f="values",p=function(){return this};t.exports=function(t,i,v,m,y,g,_){e("./$.iter-create")(v,i,m);var b,w,k=function(e){switch(e){case d:return function(){return new v(this,e)};case f:return function(){return new v(this,e)}}return function(){return new v(this,e)}},O=i+" Iterator",S=t.prototype,E=S[u]||S[h]||y&&S[y],$=E||k(y);if(E){var P=e("./$").getProto($.call(new t));e("./$.tag")(P,O,!0),!n&&a(S,h)&&s(P,u,p)}if((!n||_)&&s(S,u,$),l[i]=$,l[O]=p,y)if(b={keys:g?$:k(d),values:y==f?$:k(f),entries:y!=f?$:k("entries")},_)for(w in b)w in S||o(S,w,b[w]);else r(r.P+r.F*c,i,b)}},{"./$":38,"./$.def":16,"./$.has":23,"./$.hide":24,"./$.iter-create":33,"./$.iterators":37,"./$.library":39,"./$.redef":44,"./$.tag":54,"./$.wks":63}],35:[function(e,t,i){var n=e("./$.wks")("iterator"),r=!1;try{var o=[7][n]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(e){if(!r)return!1;var t=!1;try{var i=[7],o=i[n]();o.next=function(){t=!0},i[n]=function(){return o},e(i)}catch(s){}return t}},{"./$.wks":63}],36:[function(e,t,i){t.exports=function(e,t){return{value:t,done:!!e}}},{}],37:[function(e,t,i){t.exports={}},{}],38:[function(e,t,i){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],39:[function(e,t,i){t.exports=!1},{}],40:[function(e,t,i){var n,r,o,s=e("./$.global"),a=e("./$.task").set,u=s.MutationObserver||s.WebKitMutationObserver,l=s.process,c="process"==e("./$.cof")(l),h=function(){var e,t;for(c&&(e=l.domain)&&(l.domain=null,e.exit());n;)t=n.domain,t&&t.enter(),n.fn.call(),t&&t.exit(),n=n.next;r=void 0,e&&e.enter()};if(c)o=function(){l.nextTick(h)};else if(u){var d=1,f=document.createTextNode("");new u(h).observe(f,{characterData:!0}),o=function(){f.data=d=-d}}else o=function(){a.call(s,h)};t.exports=function(e){var t={fn:e,next:void 0,domain:c&&l.domain};r&&(r.next=t),n||(n=t,o()),r=t}},{"./$.cof":13,"./$.global":22,"./$.task":55}],41:[function(e,t,i){var n=e("./$.redef");t.exports=function(e,t){for(var i in t)n(e,i,t[i]);return e}},{"./$.redef":44}],42:[function(e,t,i){t.exports=function(t,i){var n=e("./$.def"),r=(e("./$.core").Object||{})[t]||Object[t],o={};o[t]=i(r),n(n.S+n.F*e("./$.fails")(function(){r(1)}),"Object",o)}},{"./$.core":14,"./$.def":16,"./$.fails":20}],43:[function(e,t,i){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],44:[function(e,t,i){var n=e("./$.global"),r=e("./$.hide"),o=e("./$.uid")("src"),s="toString",a=Function[s],u=(""+a).split(s);e("./$.core").inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,i,s){"function"==typeof i&&(r(i,o,e[t]?""+e[t]:u.join(String(t))),"name"in i||(i.name=t)),e===n?e[t]=i:(s||delete e[t],r(e,t,i))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||a.call(this)})},{"./$.core":14,"./$.global":22,"./$.hide":24,"./$.uid":61}],45:[function(e,t,i){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],46:[function(e,t,i){var n=e("./$").getDesc,r=e("./$.is-object"),o=e("./$.an-object"),s=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,r){try{r=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),r(t,[]),i=!(t instanceof Array)}catch(o){i=!0}return function(e,t){return s(e,t),i?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:s}},{"./$":38,"./$.an-object":8,"./$.ctx":15,"./$.is-object":30}],47:[function(e,t,i){var n=e("./$.global"),r="__core-js_shared__",o=n[r]||(n[r]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$.global":22}],48:[function(e,t,i){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},{}],49:[function(e,t,i){"use strict";var n=e("./$"),r=e("./$.wks")("species");t.exports=function(t){!e("./$.support-desc")||r in t||n.setDesc(t,r,{configurable:!0,get:function(){return this}})}},{"./$":38,"./$.support-desc":53,"./$.wks":63}],50:[function(e,t,i){t.exports=function(e,t,i){if(!(e instanceof t))throw TypeError(i+": use the 'new' operator!");return e}},{}],51:[function(e,t,i){var n=e("./$.is-regexp"),r=e("./$.defined");t.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},{"./$.defined":17,"./$.is-regexp":31}],52:[function(e,t,i){var n=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e},r=e("./$.def"),o=e("./$.defined"),s="	\n\f\r   ᠎             　\u2028\u2029\ufeff",a="["+s+"]",u="​",l=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$");t.exports=function(t,i){var o={};o[t]=i(n),r(r.P+r.F*e("./$.fails")(function(){return!!s[t]()||u[t]()!=u}),"String",o)}},{"./$.def":16,"./$.defined":17,"./$.fails":20}],53:[function(e,t,i){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":20}],54:[function(e,t,i){var n=e("./$.has"),r=e("./$.hide"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,o)&&r(e,o,t)}},{"./$.has":23,"./$.hide":24,"./$.wks":63}],55:[function(e,t,i){"use strict";var n,r,o,s=e("./$.ctx"),a=e("./$.invoke"),u=e("./$.html"),l=e("./$.dom-create"),c=e("./$.global"),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,v=0,m={},y="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},_=function(e){g.call(e.data)};d&&f||(d=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return m[++v]=function(){a("function"==typeof e?e:Function(e),t)},n(v),v},f=function(e){delete m[e]},"process"==e("./$.cof")(h)?n=function(e){h.nextTick(s(g,e,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=_,n=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n=y in l("script")?function(e){u.appendChild(l("script"))[y]=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),t.exports={set:d,clear:f}},{"./$.cof":13,"./$.ctx":15,"./$.dom-create":18,"./$.global":22,"./$.html":25,"./$.invoke":26}],56:[function(e,t,i){var n=e("./$.to-integer"),r=Math.max,o=Math.min;t.exports=function(e,t){return e=n(e),0>e?r(e+t,0):o(e,t)}},{"./$.to-integer":57}],57:[function(e,t,i){var n=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},{}],58:[function(e,t,i){var n=e("./$.iobject"),r=e("./$.defined");t.exports=function(e){
return n(r(e))}},{"./$.defined":17,"./$.iobject":27}],59:[function(e,t,i){var n=e("./$.to-integer"),r=Math.min;t.exports=function(e){return e>0?r(n(e),9007199254740991):0}},{"./$.to-integer":57}],60:[function(e,t,i){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":17}],61:[function(e,t,i){var n=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},{}],62:[function(e,t,i){var n=e("./$.wks")("unscopables");void 0==[][n]&&e("./$.hide")(Array.prototype,n,{}),t.exports=function(e){[][n][e]=!0}},{"./$.hide":24,"./$.wks":63}],63:[function(e,t,i){var n=e("./$.shared")("wks"),r=e("./$.global").Symbol;t.exports=function(t){return n[t]||(n[t]=r&&r[t]||(r||e("./$.uid"))("Symbol."+t))}},{"./$.global":22,"./$.shared":47,"./$.uid":61}],64:[function(e,t,i){var n=e("./$.classof"),r=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[r]||e["@@iterator"]||o[n(e)]:void 0}},{"./$.classof":12,"./$.core":14,"./$.iterators":37,"./$.wks":63}],65:[function(e,t,i){"use strict";var n,r=e("./$"),o=e("./$.support-desc"),s=e("./$.property-desc"),a=e("./$.html"),u=e("./$.dom-create"),l=e("./$.has"),c=e("./$.cof"),h=e("./$.def"),d=e("./$.invoke"),f=e("./$.array-methods"),p=e("./$.uid")("__proto__"),v=e("./$.is-object"),m=e("./$.an-object"),y=e("./$.a-function"),g=e("./$.to-object"),_=e("./$.to-iobject"),b=e("./$.to-integer"),w=e("./$.to-index"),k=e("./$.to-length"),O=e("./$.iobject"),S=e("./$.fails"),E=Object.prototype,$=[],P=$.slice,C=$.join,x=r.setDesc,T=r.getDesc,A=r.setDescs,L=e("./$.array-includes")(!1),I={};o||(n=!S(function(){return 7!=x(u("div"),"a",{get:function(){return 7}}).a}),r.setDesc=function(e,t,i){if(n)try{return x(e,t,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(m(e)[t]=i.value),e},r.getDesc=function(e,t){if(n)try{return T(e,t)}catch(i){}return l(e,t)?s(!E.propertyIsEnumerable.call(e,t),e[t]):void 0},r.setDescs=A=function(e,t){m(e);for(var i,n=r.getKeys(t),o=n.length,s=0;o>s;)r.setDesc(e,i=n[s++],t[i]);return e}),h(h.S+h.F*!o,"Object",{getOwnPropertyDescriptor:r.getDesc,defineProperty:r.setDesc,defineProperties:A});var M="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),D=M.concat("length","prototype"),j=M.length,R=function(){var e,t=u("iframe"),i=j,n=">";for(t.style.display="none",a.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+n),e.close(),R=e.F;i--;)delete R.prototype[M[i]];return R()},H=function(e,t){return function(i){var n,r=_(i),o=0,s=[];for(n in r)n!=p&&l(r,n)&&s.push(n);for(;t>o;)l(r,n=e[o++])&&(~L(s,n)||s.push(n));return s}},N=function(){};h(h.S,"Object",{getPrototypeOf:r.getProto=r.getProto||function(e){return e=g(e),l(e,p)?e[p]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?E:null},getOwnPropertyNames:r.getNames=r.getNames||H(D,D.length,!0),create:r.create=r.create||function(e,t){var i;return null!==e?(N.prototype=m(e),i=new N,N.prototype=null,i[p]=e):i=R(),void 0===t?i:A(i,t)},keys:r.getKeys=r.getKeys||H(M,j,!1)});var F=function(e,t,i){if(!(t in I)){for(var n=[],r=0;t>r;r++)n[r]="a["+r+"]";I[t]=Function("F,a","return new F("+n.join(",")+")")}return I[t](e,i)};h(h.P,"Function",{bind:function(e){var t=y(this),i=P.call(arguments,1),n=function(){var r=i.concat(P.call(arguments));return this instanceof n?F(t,r.length,r):d(t,r,e)};return v(t.prototype)&&(n.prototype=t.prototype),n}});var V=S(function(){a&&P.call(a)});h(h.P+h.F*V,"Array",{slice:function(e,t){var i=k(this.length),n=c(this);if(t=void 0===t?i:t,"Array"==n)return P.call(this,e,t);for(var r=w(e,i),o=w(t,i),s=k(o-r),a=Array(s),u=0;s>u;u++)a[u]="String"==n?this.charAt(r+u):this[r+u];return a}}),h(h.P+h.F*(O!=Object),"Array",{join:function(){return C.apply(O(this),arguments)}}),h(h.S,"Array",{isArray:e("./$.is-array")});var U=function(e){return function(t,i){y(t);var n=O(this),r=k(n.length),o=e?r-1:0,s=e?-1:1;if(arguments.length<2)for(;;){if(o in n){i=n[o],o+=s;break}if(o+=s,e?0>o:o>=r)throw TypeError("Reduce of empty array with no initial value")}for(;e?o>=0:r>o;o+=s)o in n&&(i=t(i,n[o],o,this));return i}},B=function(e){return function(t){return e(this,t,arguments[1])}};h(h.P,"Array",{forEach:r.each=r.each||B(f(0)),map:B(f(1)),filter:B(f(2)),some:B(f(3)),every:B(f(4)),reduce:U(!1),reduceRight:U(!0),indexOf:B(L),lastIndexOf:function(e,t){var i=_(this),n=k(i.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,b(t))),0>r&&(r=k(n+r));r>=0;r--)if(r in i&&i[r]===e)return r;return-1}}),h(h.S,"Date",{now:function(){return+new Date}});var z=function(e){return e>9?e:"0"+e},q=new Date(-5e13-1),W=!(q.toISOString&&"0385-07-25T07:06:39.999Z"==q.toISOString()&&S(function(){new Date(0/0).toISOString()}));h(h.P+h.F*W,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=0>t?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+z(e.getUTCMonth()+1)+"-"+z(e.getUTCDate())+"T"+z(e.getUTCHours())+":"+z(e.getUTCMinutes())+":"+z(e.getUTCSeconds())+"."+(i>99?i:"0"+z(i))+"Z"}})},{"./$":38,"./$.a-function":7,"./$.an-object":8,"./$.array-includes":10,"./$.array-methods":11,"./$.cof":13,"./$.def":16,"./$.dom-create":18,"./$.fails":20,"./$.has":23,"./$.html":25,"./$.invoke":26,"./$.iobject":27,"./$.is-array":29,"./$.is-object":30,"./$.property-desc":43,"./$.support-desc":53,"./$.to-index":56,"./$.to-integer":57,"./$.to-iobject":58,"./$.to-length":59,"./$.to-object":60,"./$.uid":61}],66:[function(e,t,i){var n=e("./$.def");n(n.P,"Array",{fill:e("./$.array-fill")}),e("./$.unscope")("fill")},{"./$.array-fill":9,"./$.def":16,"./$.unscope":62}],67:[function(e,t,i){"use strict";var n="findIndex",r=e("./$.def"),o=!0,s=e("./$.array-methods")(6);n in[]&&Array(1)[n](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return s(this,e,arguments[1])}}),e("./$.unscope")(n)},{"./$.array-methods":11,"./$.def":16,"./$.unscope":62}],68:[function(e,t,i){"use strict";var n="find",r=e("./$.def"),o=!0,s=e("./$.array-methods")(5);n in[]&&Array(1)[n](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return s(this,e,arguments[1])}}),e("./$.unscope")(n)},{"./$.array-methods":11,"./$.def":16,"./$.unscope":62}],69:[function(e,t,i){"use strict";var n=e("./$.ctx"),r=e("./$.def"),o=e("./$.to-object"),s=e("./$.iter-call"),a=e("./$.is-array-iter"),u=e("./$.to-length"),l=e("./core.get-iterator-method");r(r.S+r.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,c,h=o(e),d="function"==typeof this?this:Array,f=arguments[1],p=void 0!==f,v=0,m=l(h);if(p&&(f=n(f,arguments[2],2)),void 0==m||d==Array&&a(m))for(t=u(h.length),i=new d(t);t>v;v++)i[v]=p?f(h[v],v):h[v];else for(c=m.call(h),i=new d;!(r=c.next()).done;v++)i[v]=p?s(c,f,[r.value,v],!0):r.value;return i.length=v,i}})},{"./$.ctx":15,"./$.def":16,"./$.is-array-iter":28,"./$.iter-call":32,"./$.iter-detect":35,"./$.to-length":59,"./$.to-object":60,"./core.get-iterator-method":64}],70:[function(e,t,i){"use strict";var n=e("./$.unscope"),r=e("./$.iter-step"),o=e("./$.iterators"),s=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,i):"values"==t?r(0,e[i]):r(0,[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./$.iter-define":34,"./$.iter-step":36,"./$.iterators":37,"./$.to-iobject":58,"./$.unscope":62}],71:[function(e,t,i){"use strict";var n=e("./$.def");n(n.S+n.F*e("./$.fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)i[e]=arguments[e++];return i.length=t,i}})},{"./$.def":16,"./$.fails":20}],72:[function(e,t,i){var n=e("./$.def");n(n.S,"Math",{sign:e("./$.sign")})},{"./$.def":16,"./$.sign":48}],73:[function(e,t,i){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":42,"./$.to-object":60}],74:[function(e,t,i){"use strict";var n,r=e("./$"),o=e("./$.library"),s=e("./$.global"),a=e("./$.ctx"),u=e("./$.classof"),l=e("./$.def"),c=e("./$.is-object"),h=e("./$.an-object"),d=e("./$.a-function"),f=e("./$.strict-new"),p=e("./$.for-of"),v=e("./$.set-proto").set,m=e("./$.same"),y=e("./$.species"),g=e("./$.wks")("species"),_=e("./$.uid")("record"),b=e("./$.microtask"),w="Promise",k=s.process,O="process"==u(k),S=s[w],E=function(e){var t=new S(function(){});return e&&(t.constructor=Object),S.resolve(t)===t},$=function(){function t(e){var i=new S(e);return v(i,t.prototype),i}var i=!1;try{if(i=S&&S.resolve&&E(),v(t,S),t.prototype=r.create(S.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(i=!1),i&&e("./$.support-desc")){var n=!1;S.resolve(r.setDesc({},"then",{get:function(){n=!0}})),i=n}}catch(o){i=!1}return i}(),P=function(e){return c(e)&&($?"Promise"==u(e):_ in e)},C=function(e,t){return o&&e===S&&t===n?!0:m(e,t)},x=function(e){var t=h(e)[g];return void 0!=t?t:e},T=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},A=function(e,t){if(!e.n){e.n=!0;var i=e.c;b(function(){for(var n=e.v,r=1==e.s,o=0,a=function(t){var i,o,s=r?t.ok:t.fail;try{s?(r||(e.h=!0),i=s===!0?n:s(n),i===t.P?t.rej(TypeError("Promise-chain cycle")):(o=T(i))?o.call(i,t.res,t.rej):t.res(i)):t.rej(n)}catch(a){t.rej(a)}};i.length>o;)a(i[o++]);i.length=0,e.n=!1,t&&setTimeout(function(){var t,i,r=e.p;L(r)&&(O?k.emit("unhandledRejection",n,r):(t=s.onunhandledrejection)?t({promise:r,reason:n}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",n)),e.a=void 0},1)})}},L=function(e){var t,i=e[_],n=i.a||i.c,r=0;if(i.h)return!1;for(;n.length>r;)if(t=n[r++],t.fail||!L(t.P))return!1;return!0},I=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),A(t,!0))},M=function(e){var t,i=this;if(!i.d){i.d=!0,i=i.r||i;try{(t=T(e))?b(function(){var n={r:i,d:!1};try{t.call(e,a(M,n,1),a(I,n,1))}catch(r){I.call(n,r)}}):(i.v=e,i.s=1,A(i,!1))}catch(n){I.call({r:i,d:!1},n)}}};$||(S=function(e){d(e);var t={p:f(this,S,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[_]=t;try{e(a(M,t,1),a(I,t,1))}catch(i){I.call(t,i)}},e("./$.mix")(S.prototype,{then:function(e,t){var i=h(h(this).constructor)[g],n={ok:"function"==typeof e?e:!0,fail:"function"==typeof t?t:!1},r=n.P=new(void 0!=i?i:S)(function(e,t){n.res=e,n.rej=t});d(n.res),d(n.rej);var o=this[_];return o.c.push(n),o.a&&o.a.push(n),o.s&&A(o,!1),r},"catch":function(e){return this.then(void 0,e)}})),l(l.G+l.W+l.F*!$,{Promise:S}),e("./$.tag")(S,w),y(S),y(n=e("./$.core")[w]),l(l.S+l.F*!$,w,{reject:function(e){return new this(function(t,i){i(e)})}}),l(l.S+l.F*(!$||E(!0)),w,{resolve:function(e){return P(e)&&C(e.constructor,this)?e:new this(function(t){t(e)})}}),l(l.S+l.F*!($&&e("./$.iter-detect")(function(e){S.all(e)["catch"](function(){})})),w,{all:function(e){var t=x(this),i=[];return new t(function(n,o){p(e,!1,i.push,i);var s=i.length,a=Array(s);s?r.each.call(i,function(e,i){t.resolve(e).then(function(e){a[i]=e,--s||n(a)},o)}):n(a)})},race:function(e){var t=x(this);return new t(function(i,n){p(e,!1,function(e){t.resolve(e).then(i,n)})})}})},{"./$":38,"./$.a-function":7,"./$.an-object":8,"./$.classof":12,"./$.core":14,"./$.ctx":15,"./$.def":16,"./$.for-of":21,"./$.global":22,"./$.is-object":30,"./$.iter-detect":35,"./$.library":39,"./$.microtask":40,"./$.mix":41,"./$.same":45,"./$.set-proto":46,"./$.species":49,"./$.strict-new":50,"./$.support-desc":53,"./$.tag":54,"./$.uid":61,"./$.wks":63}],75:[function(e,t,i){"use strict";var n=e("./$.def"),r=e("./$.to-length"),o=e("./$.string-context"),s="endsWith",a=""[s];n(n.P+n.F*e("./$.fails-is-regexp")(s),"String",{endsWith:function(e){var t=o(this,e,s),i=arguments[1],n=r(t.length),u=void 0===i?n:Math.min(r(i),n),l=String(e);return a?a.call(t,l,u):t.slice(u-l.length,u)===l}})},{"./$.def":16,"./$.fails-is-regexp":19,"./$.string-context":51,"./$.to-length":59}],76:[function(e,t,i){"use strict";var n=e("./$.def"),r=e("./$.string-context"),o="includes";n(n.P+n.F*e("./$.fails-is-regexp")(o),"String",{includes:function(e){return!!~r(this,e,o).indexOf(e,arguments[1])}})},{"./$.def":16,"./$.fails-is-regexp":19,"./$.string-context":51}],77:[function(e,t,i){"use strict";var n=e("./$.def"),r=e("./$.to-length"),o=e("./$.string-context"),s="startsWith",a=""[s];n(n.P+n.F*e("./$.fails-is-regexp")(s),"String",{startsWith:function(e){var t=o(this,e,s),i=r(Math.min(arguments[1],t.length)),n=String(e);return a?a.call(t,n,i):t.slice(i,i+n.length)===n}})},{"./$.def":16,"./$.fails-is-regexp":19,"./$.string-context":51,"./$.to-length":59}],78:[function(e,t,i){"use strict";e("./$.string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./$.string-trim":52}],79:[function(e,t,i){e("./es6.array.iterator");var n=e("./$.global"),r=e("./$.hide"),o=e("./$.iterators"),s=e("./$.wks")("iterator"),a=n.NodeList,u=n.HTMLCollection,l=a&&a.prototype,c=u&&u.prototype,h=o.NodeList=o.HTMLCollection=o.Array;!a||s in l||r(l,s,h),!u||s in c||r(c,s,h)},{"./$.global":22,"./$.hide":24,"./$.iterators":37,"./$.wks":63,"./es6.array.iterator":70}],80:[function(e,t,i){/*!
Copyright (C) 2014-2015 by WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
!function(e,t,i,n){"use strict";function r(e,t){for(var i=0,n=e.length;n>i;i++)v(e[i],t)}function o(e){for(var t,i=0,n=e.length;n>i;i++)t=e[i],k(t,H[a(t)])}function s(e){return function(t){ie(t)&&(v(t,e),r(t.querySelectorAll(N),e))}}function a(e){var t=e.getAttribute("is"),i=e.nodeName.toUpperCase(),n=V.call(R,t?M+t.toUpperCase():I+i);return t&&n>-1&&!u(i,t)?-1:n}function u(e,t){return-1<N.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,i=e.attrChange,n=e.prevValue,r=e.newValue;pe&&t.attributeChangedCallback&&"style"!==e.attrName&&t.attributeChangedCallback(e.attrName,i===e[P]?null:n,i===e[x]?null:r)}function c(e){var t=s(e);return function(e){m.push(t,e.target)}}function h(e){fe&&(fe=!1,e.currentTarget.removeEventListener(A,h)),r((e.target||t).querySelectorAll(N),e.detail===E?E:S),te&&p()}function d(e,t){var i=this;oe.call(i,e,t),y.call(i,{target:i})}function f(e,t){J(e,t),b?b.observe(e,ue):(de&&(e.setAttribute=d,e[O]=_(e),e.addEventListener(L,y)),e.addEventListener(T,l)),e.createdCallback&&pe&&(e.created=!0,e.createdCallback(),e.created=!1)}function p(){for(var e,t=0,i=ne.length;i>t;t++)e=ne[t],F.contains(e)||(ne.splice(t,1),v(e,E))}function v(e,t){var i,n=a(e);n>-1&&(w(e,H[n]),n=0,t!==S||e[S]?t!==E||e[E]||(e[S]=!1,e[E]=!0,n=1):(e[E]=!1,e[S]=!0,n=1,te&&V.call(ne,e)<0&&ne.push(e)),n&&(i=e[t+"Callback"])&&i.call(e))}if(!(n in t)){var m,y,g,_,b,w,k,O="__"+n+(1e5*Math.random()>>0),S="attached",E="detached",$="extends",P="ADDITION",C="MODIFICATION",x="REMOVAL",T="DOMAttrModified",A="DOMContentLoaded",L="DOMSubtreeModified",I="<",M="=",D=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,j=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],R=[],H=[],N="",F=t.documentElement,V=R.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},U=i.prototype,B=U.hasOwnProperty,z=U.isPrototypeOf,q=i.defineProperty,W=i.getOwnPropertyDescriptor,Y=i.getOwnPropertyNames,Q=i.getPrototypeOf,X=i.setPrototypeOf,G=!!i.__proto__,K=i.create||function ve(e){return e?(ve.prototype=e,new ve):this},J=X||(G?function(e,t){return e.__proto__=t,e}:Y&&W?function(){function e(e,t){for(var i,n=Y(t),r=0,o=n.length;o>r;r++)i=n[r],B.call(e,i)||q(e,i,W(t,i))}return function(t,i){do e(t,i);while((i=Q(i))&&!z.call(i,t));return t}}():function(e,t){for(var i in t)e[i]=t[i];return e}),Z=e.MutationObserver||e.WebKitMutationObserver,ee=(e.HTMLElement||e.Element||e.Node).prototype,te=!z.call(ee,F),ie=te?function(e){return 1===e.nodeType}:function(e){return z.call(ee,e)},ne=te&&[],re=ee.cloneNode,oe=ee.setAttribute,se=ee.removeAttribute,ae=t.createElement,ue=Z&&{attributes:!0,characterData:!0,attributeOldValue:!0},le=Z||function(e){de=!1,F.removeEventListener(T,le)},ce=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},he=!1,de=!0,fe=!0,pe=!0;X||G?(w=function(e,t){z.call(t,e)||f(e,t)},k=f):(w=function(e,t){e[O]||(e[O]=i(!0),f(e,t))},k=w),te?(de=!1,function(){var e=W(ee,"addEventListener"),t=e.value,i=function(e){var t=new CustomEvent(T,{bubbles:!0});t.attrName=e,t.prevValue=this.getAttribute(e),t.newValue=null,t[x]=t.attrChange=2,se.call(this,e),this.dispatchEvent(t)},n=function(e,t){var i=this.hasAttribute(e),n=i&&this.getAttribute(e),r=new CustomEvent(T,{bubbles:!0});oe.call(this,e,t),r.attrName=e,r.prevValue=i?n:null,r.newValue=t,i?r[C]=r.attrChange=1:r[P]=r.attrChange=0,this.dispatchEvent(r)},r=function(e){var t,i=e.currentTarget,n=i[O],r=e.propertyName;n.hasOwnProperty(r)&&(n=n[r],t=new CustomEvent(T,{bubbles:!0}),t.attrName=n.name,t.prevValue=n.value||null,t.newValue=n.value=i[r]||null,null==t.prevValue?t[P]=t.attrChange=0:t[C]=t.attrChange=1,i.dispatchEvent(t))};e.value=function(e,o,s){e===T&&this.attributeChangedCallback&&this.setAttribute!==n&&(this[O]={className:{name:"class",value:this.className}},this.setAttribute=n,this.removeAttribute=i,t.call(this,"propertychange",r)),t.call(this,e,o,s)},q(ee,"addEventListener",e)}()):Z||(F.addEventListener(T,le),F.setAttribute(O,1),F.removeAttribute(O),de&&(y=function(e){var t,i,n,r=this;if(r===e.target){t=r[O],r[O]=i=_(r);for(n in i){if(!(n in t))return g(0,r,n,t[n],i[n],P);if(i[n]!==t[n])return g(1,r,n,t[n],i[n],C)}for(n in t)if(!(n in i))return g(2,r,n,t[n],i[n],x)}},g=function(e,t,i,n,r,o){var s={attrChange:e,currentTarget:t,attrName:i,prevValue:n,newValue:r};s[o]=e,l(s)},_=function(e){for(var t,i,n={},r=e.attributes,o=0,s=r.length;s>o;o++)t=r[o],i=t.name,"setAttribute"!==i&&(n[i]=t.value);return n})),t[n]=function(e,i){if(n=e.toUpperCase(),he||(he=!0,Z?(b=function(e,t){function i(e,t){for(var i=0,n=e.length;n>i;t(e[i++]));}return new Z(function(n){for(var r,o,s=0,a=n.length;a>s;s++)r=n[s],"childList"===r.type?(i(r.addedNodes,e),i(r.removedNodes,t)):(o=r.target,pe&&o.attributeChangedCallback&&"style"!==r.attributeName&&o.attributeChangedCallback(r.attributeName,r.oldValue,o.getAttribute(r.attributeName)))})}(s(S),s(E)),b.observe(t,{childList:!0,subtree:!0})):(m=[],ce(function y(){for(;m.length;)m.shift().call(null,m.shift());ce(y)}),t.addEventListener("DOMNodeInserted",c(S)),t.addEventListener("DOMNodeRemoved",c(E))),t.addEventListener(A,h),t.addEventListener("readystatechange",h),t.createElement=function(e,i){var n=ae.apply(t,arguments),r=""+e,o=V.call(R,(i?M:I)+(i||r).toUpperCase()),s=o>-1;return i&&(n.setAttribute("is",i=i.toLowerCase()),s&&(s=u(r.toUpperCase(),i))),pe=!t.createElement.innerHTMLHelper,s&&k(n,H[o]),n},ee.cloneNode=function(e){var t=re.call(this,!!e),i=a(t);return i>-1&&k(t,H[i]),e&&o(t.querySelectorAll(N)),t}),-2<V.call(R,M+n)+V.call(R,I+n))throw new Error("A "+e+" type is already registered");if(!D.test(n)||-1<V.call(j,n))throw new Error("The type "+e+" is invalid");var n,l=function(){return f?t.createElement(p,n):t.createElement(p)},d=i||U,f=B.call(d,$),p=f?i[$].toUpperCase():n,v=R.push((f?M:I)+n)-1;return N=N.concat(N.length?",":"",f?p+'[is="'+e.toLowerCase()+'"]':p),l.prototype=H[v]=B.call(d,"prototype")?d.prototype:K(ee),r(t.querySelectorAll(N),S),l}}}(window,document,Object,"registerElement")},{}],81:[function(e,t,i){"use strict";function n(e,t,i){var n=t.getAttribute("width"),r=t.getAttribute("height"),o=i||t.getAttribute("type");u.assert(o,"Attribute type required for <amp-ad>: %s",t);var a={};s(t,a),a.width=l.getLengthNumeral(n),a.height=l.getLengthNumeral(r);var d=t.getLayoutBox();a.initialWindowWidth=d.width,a.initialWindowHeight=d.height,a.type=o,a._context={location:{href:c.documentInfoFor(e).canonicalUrl},mode:h.getMode()};var f=t.getAttribute("src");return f&&(a.src=f),a}function r(e,t,i){var r=n(e,t,i),o=document.createElement("iframe");p[r.type]||(p[r.type]=0),o.name="frame_"+r.type+"_"+p[r.type]++;var s=a(e)+"#"+JSON.stringify(r);return o.src=s,o.width=r.width,o.height=r.height,o.style.border="none",o.setAttribute("scrolling","no"),o.onload=function(){this.readyState="complete"},o}function o(e,t,i){var n=e.ownerDocument.defaultView,r=f.parseUrl(a(n)).origin;n.addEventListener("message",function(n){n.origin==r&&n.source==e.contentWindow&&n.data&&"amp-3p"==n.data.sentinel&&n.data.type==t&&i(n.data)})}function s(e,t){for(var i=0;i<e.attributes.length;i++){var n=e.attributes[i];0==n.name.indexOf("data-")&&(t[d.dashToCamelCase(n.name.substr(5))]=n.value)}var r=e.getAttribute("json");if(r){var o;try{o=JSON.parse(r)}catch(s){u.assert(!1,"Error parsing JSON in json attribute in element %s",e)}for(var a in o)t[a]=o[a]}}function a(e){var t="https://3p.ampproject.net/1444082436762/frame.html";return h.getMode().localDev&&(t="http://ads.localhost:"+e.location.port+"/dist.3p/current"+(h.getMode().minified?"-min/frame":"/frame.max")+".html"),t}Object.defineProperty(i,"__esModule",{value:!0}),i.getIframe=r,i.listen=o,i.addDataAndJsonAttributes_=s;var u=e("./asserts"),l=e("../src/layout"),c=e("./document-info"),h=e("./mode"),d=e("./string"),f=e("./url"),p={}},{"../src/layout":100,"./asserts":84,"./document-info":89,"./mode":103,"./string":114,"./url":118}],82:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./log"),r=(e("./platform"),e("./timer"),"Action"),o="__AMP_ACTION_MAP__"+Math.random(),s="activate",a=function c(e,t,i,n){babelHelpers.classCallCheck(this,c),this.target=e,this.method=t,this.source=i,this.event=n},u=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t}return babelHelpers.createClass(e,[{key:"addEvent",value:function(e){var t=this;"tap"==e&&this.win.document.addEventListener("click",function(e){e.defaultPrevented||t.trigger(e.target,"tap",e)})}},{key:"trigger",value:function(e,t,i){this.action_(e,t,i)}},{key:"execute",value:function(e,t,i,n){this.invoke_(e,t,i,n,null)}},{key:"action_",value:function(e,t,i){var n=this.findAction_(e,t);if(n){var r=document.getElementById(n.actionInfo.target);return r?void this.invoke_(r,n.actionInfo.method,n.node,i,n.actionInfo):void this.actionInfoError_("target not found",n.actionInfo,r)}}},{key:"actionInfoError_",value:function(e,t,i){throw new Error("Action Error: "+e+(t?" in ["+t.str+"]":"")+(i?" on ["+i+"]":""))}},{key:"invoke_",value:function(e,t,i,n,r){var o=new a(e,t,i,n);return"amp-"!=e.tagName.toLowerCase().substring(0,4)?void this.actionInfoError_("Target must be an AMP element",r,e):e.enqueAction?void e.enqueAction(o):void this.actionInfoError_('Unrecognized AMP element "'+e.tagName.toLowerCase()+'". Did you forget to include it via <script custom-element>?',r,e)}},{key:"findAction_",value:function(e,t){for(var i=e,n=null;i;){if(n=this.matchActionInfo_(i,t))return{node:i,actionInfo:n};i=i.parentElement}return null}},{key:"matchActionInfo_",value:function(e,t){var i=this.getActionMap_(e);return i?i[t]||null:null}},{key:"getActionMap_",value:function(e){var t=e[o];return void 0===t&&(t=null,e.hasAttribute("on")&&(t=this.parseActionMap_(e.getAttribute("on"))),e[o]=t),t}},{key:"parseActionMap_",value:function(e){var t=null,i=e.split(";");if(i&&i.length>0)for(var n=0;n<i.length;n++){var r=i[n],o=this.parseAction_(r);o&&(t||(t={}),t[o.event]=o)}return t}},{key:"parseAction_",value:function(e){if(e=e.trim(),!e)return null;var t=e.indexOf(":"),i=e.indexOf(".",t+1),o=(-1!=t?e.substring(0,t):"").toLowerCase().trim()||null,a=e.substring(t+1,-1!=i?i:e.length).trim(),u=(-1!=i?e.substring(i+1):"").trim()||s;return o&&a?{event:o,target:a,method:u,str:e}:(n.log.error(r,"invalid action definition: "+e),null)}}]),e}();i.Action=u;var l=new u(window);i.action=l},{"./log":102,"./platform":106,"./timer":117}],83:[function(e,t,i){"use strict";e("./polyfills");var n=e("./history"),r=e("./viewer"),o=e("./pull-to-refresh"),s=e("../builtins/amp-ad"),a=e("./document-click"),u=e("../builtins/amp-img"),l=e("../builtins/amp-video"),c=e("../builtins/amp-pixel"),h=e("./styles"),d=e("./error"),f=e("./custom-element"),p=e("./runtime"),v=e("../build/css.js"),m=e("./action"),y=e("./validator-integration");try{d.installErrorReporting(window),h.installStyles(document,v.cssText,function(){try{n.historyFor(window),r.viewerFor(window),u.installImg(window),s.installAd(window),c.installPixel(window),l.installVideo(window),p.adopt(window),f.stubElements(window),m.action.addEvent("tap"),o.installPullToRefreshBlocker(window),a.installGlobalClickListener(window),y.maybeValidate(window)}finally{h.makeBodyVisible(document)}},!0)}catch(g){throw h.makeBodyVisible(document),g}window.console&&(console.info||console.log).call(console,"Powered by AMP ⚡ HTML – Version 1444082436762"),document.documentElement.setAttribute("amp-version","1444082436762")},{"../build/css.js":1,"../builtins/amp-ad":2,"../builtins/amp-img":3,"../builtins/amp-pixel":4,"../builtins/amp-video":5,"./action":82,"./custom-element":87,"./document-click":88,"./error":93,"./history":97,"./polyfills":107,"./pull-to-refresh":109,"./runtime":111,"./styles":116,"./validator-integration":119,"./viewer":120}],84:[function(e,t,i){"use strict";function n(e,t,i){var n;if(!e){t=t||"Assertion failed";var s=t.split("%s"),a=s.shift(),u=a,l=[];o(l,a);for(var c=2;c<arguments.length;c++){var h=arguments[c];h&&h.tagName&&(n=h);var d=s.shift();l.push(h),o(l,d.trim()),u+=r(h)+d}var f=new Error(u);throw f.fromAssert=!0,f.associatedElement=n,f.messageArray=l,f}return e}function r(e){return e instanceof Element?e.tagName.toLowerCase()+(e.id?"#"+e.id:""):e}function o(e,t){""!=t&&e.push(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.assert=n},{}],85:[function(e,t,i){"use strict";function n(e){return r.isInternalElement(e)?!0:e.tagName&&e.hasAttribute("placeholder")?!0:!1}Object.defineProperty(i,"__esModule",{value:!0});var r=e("./layout"),o=(e("./asserts"),e("./preconnect")),s=e("./resources"),a=e("./viewer"),u=e("./viewport"),l=function(){function e(t){babelHelpers.classCallCheck(this,e),this.element=t,this.layout_=r.Layout.NODISPLAY,this.layoutWidth_=-1,this.inViewport_=!1,this.actionMap_=t.ownerDocument.defaultView.Object.create(null),this.preconnect=o.preconnectFor(t.ownerDocument.defaultView)}return babelHelpers.createClass(e,[{key:"getLayout",value:function(){return this.layout_}},{key:"getLayoutWidth",value:function(){return this.layoutWidth_}},{key:"isLayoutSupported",value:function(e){return e==r.Layout.NODISPLAY}},{key:"isInViewport",value:function(){return this.inViewport_}},{key:"createdCallback",value:function(){}},{key:"firstAttachedCallback",value:function(){}},{key:"isReadyToBuild",value:function(){return!0}},{key:"buildCallback",value:function(){}},{key:"setAsOwner",value:function(e){s.resources.setOwner(e,this.element)}},{key:"prerenderAllowed",value:function(){return!1}},{key:"renderOutsideViewport",value:function(){return!0}},{key:"isRelayoutNeeded",value:function(){return!1}},{key:"layoutCallback",value:function(){return Promise.resolve()}},{key:"viewportCallback",value:function(e){}},{key:"documentInactiveCallback",value:function(){return!1}},{key:"activate",value:function(e){}},{key:"registerAction",value:function(e,t){this.actionMap_[e]=t}},{key:"executeAction",value:function(e,t){if("activate"==e.method)this.activate(e);else{var i=this.actionMap_[e.method];if(!i)throw new Error("Method not found: "+e.method);i(e)}}},{key:"getMaxDpr",value:function(){return s.resources.getMaxDpr()}},{key:"getDpr",value:function(){return s.resources.getDpr()}},{key:"propagateAttributes",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];this.element.hasAttribute(n)&&t.setAttribute(n,this.element.getAttribute(n))}}},{key:"getPlaceholder",value:function(){for(var e=this.element.children,t=0;t<e.length;t++)if(e[t].hasAttribute("placeholder"))return e[t];return null}},{key:"getRealChildNodes",value:function(){for(var e=[],t=this.element.firstChild;t;t=t.nextSibling)n(t)||e.push(t);return e}},{key:"getRealChildren",value:function(){for(var e=[],t=0;t<this.element.children.length;t++){var i=this.element.children[t];n(i)||e.push(i)}return e}},{key:"applyFillContent",value:function(e){e.classList.add("-amp-fill-content")}},{key:"getViewport",value:function(){return u.viewportFor(this.element.ownerDocument.defaultView)}},{key:"scheduleLayout",value:function(e){s.resources.scheduleLayout(this.element,e)}},{key:"schedulePreload",value:function(e){s.resources.schedulePreload(this.element,e)}},{key:"updateInViewport",value:function(e,t){s.resources.updateInViewport(this.element,e,t)}},{key:"changeHeight",value:function(e){s.resources.changeHeight(this.element,e)}},{key:"deferMutate",value:function(e){s.resources.deferMutate(this.element,e)}},{key:"requestFullOverlay",value:function(){a.viewerFor(this.element.ownerDocument.defaultView).requestFullOverlay()}},{key:"cancelFullOverlay",value:function(){a.viewerFor(this.element.ownerDocument.defaultView).cancelFullOverlay()}}]),e}();i.BaseElement=l},{"./asserts":84,"./layout":100,"./preconnect":108,"./resources":110,"./viewer":120,"./viewport":121}],86:[function(e,t,i){"use strict";e("core-js/modules/es5"),e("core-js/modules/es6.object.keys"),e("core-js/modules/es6.math.sign"),e("core-js/modules/es6.string.trim"),e("core-js/modules/es6.string.ends-with"),e("core-js/modules/es6.string.includes"),e("core-js/modules/es6.string.starts-with"),e("core-js/modules/es6.array.from"),e("core-js/modules/es6.array.of"),e("core-js/modules/es6.array.fill"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.array.find-index"),e("core-js/modules/es6.promise"),e("core-js/modules/web.dom.iterable"),t.exports=e("core-js/modules/$.core")},{"core-js/modules/$.core":14,"core-js/modules/es5":65,"core-js/modules/es6.array.fill":66,"core-js/modules/es6.array.find":68,"core-js/modules/es6.array.find-index":67,"core-js/modules/es6.array.from":69,"core-js/modules/es6.array.of":71,"core-js/modules/es6.math.sign":72,"core-js/modules/es6.object.keys":73,"core-js/modules/es6.promise":74,"core-js/modules/es6.string.ends-with":75,"core-js/modules/es6.string.includes":76,"core-js/modules/es6.string.starts-with":77,"core-js/modules/es6.string.trim":78,"core-js/modules/web.dom.iterable":79}],87:[function(e,t,i){"use strict";function n(e,t,i){if(!m[t])return void a(e,t,i);c.assert(m[t]==l.ElementStub,"Expected "+t+" to be an ElementStub.");for(var n=0;n<l.stubbedElements.length;n++){var r=l.stubbedElements[n],o=r.element;if(o.tagName.toLowerCase()==t)try{o.upgrade(i)}catch(s){d.reportError(s,this)}}}function r(e){for(var t=e.document.querySelectorAll("[custom-element]"),i=0;i<t.length;i++){var n=t[i].getAttribute("custom-element");m[n]||a(e,n,l.ElementStub)}}function o(e){var t=e.getAttribute("width"),i=e.getAttribute("height"),n=e.getAttribute("layout");if(!(n&&n!=u.Layout.FIXED&&n!=u.Layout.FIXED_HEIGHT||t&&i||!u.hasNaturalDimensions(e.tagName))){var r=u.getNaturalDimensions(e.tagName);n!=u.Layout.FIXED_HEIGHT&&(t=t||r.width),i=i||r.height}var o=void 0;if(n){if(o=u.parseLayout(n.trim()),!o)throw new Error("Unknown layout: "+n)}else o=t||i?t&&"auto"!=t?u.Layout.FIXED:u.Layout.FIXED_HEIGHT:u.Layout.CONTAINER;if(e.classList.add(u.getLayoutClass(o)),u.isLayoutSizeDefined(o)&&e.classList.add("-amp-layout-size-defined"),o==u.Layout.FIXED||o==u.Layout.FIXED_HEIGHT||o==u.Layout.RESPONSIVE){var s=0;if(o==u.Layout.FIXED_HEIGHT){if(t&&"auto"!=t)throw new Error('Expected width to be either absent or equal "auto" for fixed-height layout: '+t)}else if(s=u.parseLength(t),!s)throw new Error("Expected width to be available and be an integer/length value: "+t);var a=u.parseLength(i);if(!a)throw new Error("Expected height to be available and be an integer/length value: "+i);if(o==u.Layout.RESPONSIVE){if(u.getLengthUnits(s)!=u.getLengthUnits(a))throw new Error("Length units should be the same for width "+s+" and height "+a);var l=e.ownerDocument.createElement("i-amp-sizer");l.style.display="block",l.style.paddingTop=u.getLengthNumeral(a)/u.getLengthNumeral(s)*100+"%",e.insertBefore(l,e.firstChild),e.sizerElement_=l}else o==u.Layout.FIXED_HEIGHT?e.style.height=a:(e.style.width=s,e.style.height=a)}else if(o==u.Layout.FILL);else if(o==u.Layout.CONTAINER);else{if(o!=u.Layout.NODISPLAY)throw new Error("Unsupported layout value: "+o);e.style.display="none"}return o}function s(e,t,i){var n=e.Object.create(e.HTMLElement.prototype);return n.createdCallback=function(){this.classList.add("-amp-element"),this.built_=!1,this.classList.add("-amp-notbuilt"),this.classList.add("amp-notbuilt"),this.readyState="loading",this.everAttached=!1,this.layout_=u.Layout.NODISPLAY,this.layoutWidth_=-1,this.mediaQuery_,this.sizerElement_=null,this.implementation_=new i(this),this.implementation_.createdCallback(),this.actionQueue_=[]},n.isUpgraded=function(){return!(this.implementation_ instanceof l.ElementStub)},n.upgrade=function(e){var t=this.implementation_,i=new e(this);if(this.implementation_=i,t&&t.upgrade(i),this.layout_!=u.Layout.NODISPLAY&&!this.implementation_.isLayoutSupported(this.layout_))throw new Error("Layout not supported: "+this.layout_);this.implementation_.layout_=this.layout_,this.implementation_.layoutWidth_=this.layoutWidth_,this.everAttached&&(this.implementation_.firstAttachedCallback(),this.dispatchCustomEvent("amp:attached")),f.resources.upgraded(this)},n.isBuilt=function(){return this.built_},n.build=function(e){if(this.isBuilt())return!0;if(c.assert(this.isUpgraded(),"Cannot build unupgraded element"),!e&&!this.implementation_.isReadyToBuild())return!1;try{this.implementation_.buildCallback(),this.built_=!0,this.classList.remove("-amp-notbuilt"),this.classList.remove("amp-notbuilt")}catch(t){throw d.reportError(t,this),t}return this.actionQueue_&&(this.actionQueue_.length>0?p.timer.delay(this.dequeueActions_.bind(this),1):this.actionQueue_=null),!0},n.updateLayoutBox=function(e){this.layoutWidth_=e.width,this.isUpgraded()&&(this.implementation_.layoutWidth_=this.layoutWidth_)},n.applyMediaQuery=function(){void 0===this.mediaQuery_&&(this.mediaQuery_=this.getAttribute("media")||null),this.mediaQuery_&&this.classList.toggle("-amp-hidden-by-media-query",!this.ownerDocument.defaultView.matchMedia(this.mediaQuery_).matches)},n.changeHeight=function(e){this.sizerElement_?this.sizerElement_.style.paddingTop=e+"px":this.style.height=e+"px"},n.attachedCallback=function(){if(!this.everAttached){this.everAttached=!0;try{this.firstAttachedCallback_()}catch(e){d.reportError(e,this)}}f.resources.add(this)},n.detachedCallback=function(){f.resources.remove(this)},n.firstAttachedCallback_=function(){try{if(this.layout_=o(this),this.layout_!=u.Layout.NODISPLAY&&!this.implementation_.isLayoutSupported(this.layout_))throw new Error("Layout not supported for: "+this.layout_);this.implementation_.layout_=this.layout_,this.implementation_.firstAttachedCallback()}catch(e){throw d.reportError(e,this),e}this.dispatchCustomEvent(this.isUpgraded()?"amp:attached":"amp:stubbed")},n.dispatchCustomEvent=function(e,t){var i=t||{},n=(this.ownerDocument.defaultView,document.createEvent("Event"));n.data=i,n.initEvent(e,!0,!0),this.dispatchEvent(n)},n.prerenderAllowed=function(){return this.implementation_.prerenderAllowed()},n.renderOutsideViewport=function(){return this.implementation_.renderOutsideViewport()},n.getLayoutBox=function(){return f.resources.getResourceForElement(this).getLayoutBox()},n.isRelayoutNeeded=function(){return this.implementation_.isRelayoutNeeded()},n.layoutCallback=function(){var e=this;c.assert(this.isUpgraded()&&this.isBuilt(),"Must be upgraded and built to receive viewport events"),this.dispatchCustomEvent("amp:load:start");var t=this.implementation_.layoutCallback();return this.classList.add("-amp-layout"),c.assert(t instanceof Promise,"layoutCallback must return a promise"),t.then(function(){e.readyState="complete"})},n.viewportCallback=function(e){c.assert(this.isUpgraded()&&this.isBuilt(),"Must be upgraded and built to receive viewport events"),this.implementation_.inViewport_=e,this.implementation_.viewportCallback(e)},n.documentInactiveCallback=function(){return this.isBuilt()&&this.isUpgraded()?this.implementation_.documentInactiveCallback():!1},n.enqueAction=function(e){this.isBuilt()?this.executionAction_(e,!1):c.assert(this.actionQueue_).push(e)},n.dequeueActions_=function(){var e=this;if(this.actionQueue_){var t=c.assert(this.actionQueue_);this.actionQueue_=null,t.forEach(function(t){e.executionAction_(t,!0)})}},n.executionAction_=function(e,t){try{this.implementation_.executeAction(e,t)}catch(i){h.log.error(v,"Action execution failed:",e,i)}},n}function a(e,t,i){m[t]=i,e.document.registerElement(t,{prototype:s(e,t,i)})}Object.defineProperty(i,"__esModule",{value:!0}),i.upgradeOrRegisterElement=n,i.stubElements=r,i.applyLayout_=o,i.createAmpElementProto=s,i.registerElement=a;var u=e("./layout"),l=e("./element-stub"),c=e("./asserts"),h=e("./log"),d=e("./error"),f=e("./resources"),p=e("./timer"),v="CustomElement",m={}},{"./asserts":84,"./element-stub":92,"./error":93,"./layout":100,"./log":102,"./resources":110,"./timer":117}],88:[function(e,t,i){"use strict";function n(e){e.document.documentElement.addEventListener("click",o)}function r(e){e.document.documentElement.removeEventListener("click",o)}function o(e){if(!e.defaultPrevented){var t=s.closestByTag(e.target,"A");if(t){var i=null,n=e.currentTarget,r=n.ownerDocument,o=u.parseUrl(t.href),l=u.parseUrl(r.location.href),c=""+o.origin+o.pathname,h=""+l.origin+l.pathname;if(c==h){e.preventDefault();var d=o.hash.slice(1);i=r.getElementById(d),i||(i=r.querySelector("a[name="+d+"]")),i?i.scrollIntoView(!0):a.log.warn("documentElement","failed to find element with id="+d+" or a[name="+d+"]")}}}}Object.defineProperty(i,"__esModule",{value:!0}),i.installGlobalClickListener=n,i.uninstallGlobalClickListener=r,i.onDocumentElementClick_=o;var s=e("./dom"),a=e("./log"),u=e("./url")},{"./dom":91,"./log":102,"./url":118}],89:[function(e,t,i){"use strict";function n(e){return r.getService(e,"documentInfo",function(){return{canonicalUrl:s.parseUrl(o.assert(e.document.querySelector("link[rel=canonical]"),"AMP files are required to have a <link rel=canonical> tag.").href).href}})}Object.defineProperty(i,"__esModule",{value:!0}),i.documentInfoFor=n;var r=e("./service"),o=e("./asserts"),s=e("./url")},{"./asserts":84,"./service":112,"./url":118}],90:[function(e,t,i){"use strict";function n(e){return"loading"!=e.readyState}function r(e,t){var i=n(e);if(i)t();else{var r=function o(){"loading"!=e.readyState&&(i||(i=!0,t()),e.removeEventListener("readystatechange",o))};e.addEventListener("readystatechange",r)}}function o(e){return new c(e)}function s(e){return u.getService(e,"documentState",function(){return o(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.isDocumentReady=n,i.onDocumentReady=r,i.documentStateFor=s;var a=e("./observable"),u=e("./service"),l=e("./style"),c=function(){function e(t){if(babelHelpers.classCallCheck(this,e),this.win=t,this.document_=t.document,this.hiddenProp_=l.getVendorJsPropertyName(this.document_,"hidden",!0),void 0===this.document_[this.hiddenProp_]&&(this.hiddenProp_=null),this.visibilityStateProp_=l.getVendorJsPropertyName(this.document_,"visibilityState",!0),void 0===this.document_[this.visibilityStateProp_]&&(this.visibilityStateProp_=null),this.visibilityObservable_=new a.Observable,this.visibilityChangeEvent_=null,this.hiddenProp_){this.visibilityChangeEvent_="visibilitychange";var i=this.hiddenProp_.indexOf("Hidden");-1!=i&&(this.visibilityChangeEvent_=this.hiddenProp_.substring(0,i)+"Visibilitychange")}this.boundOnVisibilityChanged_=this.onVisibilityChanged_.bind(this),this.visibilityChangeEvent_&&this.document_.addEventListener(this.visibilityChangeEvent_,this.boundOnVisibilityChanged_)}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.visibilityChangeEvent_&&this.document_.removeEventListener(this.visibilityChangeEvent_,this.boundOnVisibilityChanged_)}},{key:"isReady",value:function(){return n(this.document_)}},{key:"onReady",value:function(e){return r(this.document_,e)}},{key:"isHidden",value:function(){return this.hiddenProp_?this.document_[this.hiddenProp_]:!1}},{key:"getVisibilityState",value:function(){return this.visibilityStateProp_?this.document_[this.visibilityStateProp_]:this.isHidden()?"hidden":"visible"}},{key:"onVisibilityChanged",value:function(e){return this.visibilityObservable_.add(e)}},{key:"onVisibilityChanged_",value:function(){this.visibilityObservable_.fire()}}]),e}();i.DocumentState=c},{"./observable":104,"./service":112,"./style":115}],91:[function(e,t,i){"use strict";function n(e){e.parentElement&&e.parentElement.removeChild(e)}function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function o(e,t){for(var i=t.ownerDocument.createDocumentFragment(),n=e.firstChild;n;n=n.nextSibling)i.appendChild(n.cloneNode(!0));t.appendChild(i)}function s(e,t){for(var i=e;i;i=i.parentElement)if(t(i))return i;return null}function a(e,t){return t=t.toUpperCase(),s(e,function(e){return e.tagName==t})}function u(e,t){var i=e.getElementsByTagName(t);return i.length>0?i[0]:null}Object.defineProperty(i,"__esModule",{value:!0}),i.removeElement=n,i.removeChildren=r,i.copyChildren=o,i.closest=s,i.closestByTag=a,i.elementByTag=u},{}],92:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./base-element"),r=(e("./layout"),[]);i.stubbedElements=r;var o=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),r.push(this)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isLayoutSupported",value:function(e){return!0}},{key:"createdCallback",value:function(){this.element.classList.add("amp-unresolved"),this.element.classList.add("-amp-unresolved")}},{key:"upgrade",value:function(e){this.element.classList.remove("amp-unresolved"),this.element.classList.remove("-amp-unresolved"),e.createdCallback()}}]),t}(n.BaseElement);i.ElementStub=o},{"./base-element":85,"./layout":100}],93:[function(e,t,i){"use strict";function n(e,t){if(window.console&&!e.reported){e.reported=!0;var i=t||e.associatedElement;i&&(i.classList.add("-amp-error"),a.getMode().development&&(i.classList.add("-amp-element-error"),i.setAttribute("error-message",e.message))),e.messageArray?(console.error||console.log).apply(console,e.messageArray):(console.error||console.log).call(console,e.message),i&&i.dispatchCustomEvent&&i.dispatchCustomEvent("amp:error",e.message),o(void 0,void 0,void 0,void 0,e)}}function r(e){e.onerror=o}function o(e,t,i,n,r){this&&this.document&&l.makeBodyVisible(this.document);var o=a.getMode();if(!(o.isLocalDev||o.development||o.test)){var u=s(e,t,i,n,r);c(function(){(new Image).src=u})}}function s(e,t,i,n,r){if(e=r?r.message:e,!/_reported_/.test(e)){var o="https://cdn.ampproject.org/error/report.gif?v="+encodeURIComponent("1444082436762")+"&m="+encodeURIComponent(e);if(r){var s=r&&r.associatedElement?r.associatedElement.tagName:"u";o+="&a="+(r.fromAssert?1:0)+"&el="+encodeURIComponent(s)+"&s="+encodeURIComponent(r.stack||"")}else o+="&f="+encodeURIComponent(t)+"&l="+encodeURIComponent(i)+"&c="+encodeURIComponent(n||"");return r&&(r.message+=" _reported_"),o.substr(0,2e3)}}Object.defineProperty(i,"__esModule",{value:!0}),i.reportError=n,i.installErrorReporting=r,i.getErrorReportUrl=s;var a=e("./mode"),u=e("./exponential-backoff.js"),l=e("./styles"),c=u.exponentialBackoff(1.5)},{"./exponential-backoff.js":95,"./mode":103,"./styles":116}],94:[function(e,t,i){"use strict";function n(e,t,i,n){var r=n||!1,o=void 0,s=function(e){i(e),o()};return o=function(){e.removeEventListener(t,s,r)},e.addEventListener(t,s,r),o}function r(e,t,i,r){var o=void 0,s=new Promise(function(r,s){o=n(e,t,r,i)});return a(s,o,r)}function o(e){return e.complete||"complete"==e.readyState}function s(e,t){var i=void 0,r=void 0,s=new Promise(function(t,s){o(e)?t(e):(i="AUDIO"===e.tagName||"VIDEO"===e.tagName?n(e,"loadstart",function(){return t(e)}):n(e,"load",function(){return t(e)}),r=n(e,"error",s))});return a(s,function(){i&&i(),r&&r()},t)}function a(e,t,i){var n=void 0;return n=void 0===i?e:u.timer.timeoutPromise(i||0,e),t?n.then(function(e){return t(),e},function(e){return t(),Promise.reject(e)}):n}Object.defineProperty(i,"__esModule",{value:!0}),i.listenOnce=n,i.listenOncePromise=r,i.isLoaded=o,i.loadPromise=s;var u=e("./timer")},{"./timer":117}],95:[function(e,t,i){"use strict";function n(e){var t=0;return function(i){var n=Math.pow(e||2,t++),r=.3*n*Math.random();Math.random()>.5&&(r*=-1),n+=r,setTimeout(i,Math.round(1e3*n))}}Object.defineProperty(i,"__esModule",{value:!0}),i.exponentialBackoff=n},{}],96:[function(e,t,i){"use strict";function n(e,t,i){r.upgradeOrRegisterElement(e,t,i)}Object.defineProperty(i,"__esModule",{value:!0}),i.registerExtendedElement=n;var r=(e("./base-element"),e("./custom-element"))},{"./base-element":85,"./custom-element":87}],97:[function(e,t,i){"use strict";function n(e){var t={};return t[f]=e,t}function r(e){var t=h.viewerFor(e),i=void 0;return i=t.isOvertakeHistory()?new m(t):new v(e),new p(i)}function o(e){return u.getService(e,"history",function(){return r(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.historyFor=o;var s=e("./pass"),a=e("./asserts"),u=e("./service"),l=e("./log"),c=e("./timer"),h=e("./viewer"),d="History",f="AMP.History",p=function(){
function e(t){babelHelpers.classCallCheck(this,e),this.binding_=t,this.stackIndex_=0,this.stackOnPop_=[],this.queue_=[],this.binding_.setOnStackIndexUpdated(this.onStackIndexUpdated_.bind(this))}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.binding_.cleanup_()}},{key:"push",value:function(e){var t=this;return this.enque_(function(){return t.binding_.push().then(function(i){return t.onStackIndexUpdated_(i),e&&(t.stackOnPop_[i]=e),i})})}},{key:"pop",value:function(e){var t=this;return this.enque_(function(){return t.binding_.pop(e).then(function(e){t.onStackIndexUpdated_(e)})})}},{key:"onStackIndexUpdated_",value:function(e){this.stackIndex_=e,this.doPop_()}},{key:"doPop_",value:function(){if(!(this.stackIndex_>=this.stackOnPop_.length-1)){for(var e=[],t=this.stackOnPop_.length-1;t>this.stackIndex_;t--)this.stackOnPop_[t]&&(e.push(this.stackOnPop_[t]),this.stackOnPop_[t]=void 0);if(this.stackOnPop_.splice(this.stackIndex_+1),e.length>0)for(var t=0;t<e.length;t++)c.timer.delay(e[t],1)}}},{key:"enque_",value:function(e){var t=void 0,i=void 0,n=new Promise(function(e,n){t=e,i=n});return this.queue_.push({callback:e,resolve:t,reject:i}),1==this.queue_.length&&this.deque_(),n}},{key:"deque_",value:function(){var e=this;if(0!=this.queue_.length){var t=this.queue_[0],i=void 0;try{i=t.callback()}catch(n){i=Promise.reject(n)}i.then(function(e){t.resolve(e)},function(e){l.log.error(d,"failed to execute a task:",e),t.reject(e)}).then(function(){e.queue_.splice(0,1),e.deque_()})}}}]),e}();i.History=p;var v=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){}},{key:"setOnStackIndexUpdated",value:function(e){}},{key:"push",value:function(){}},{key:"pop",value:function(e){}}]),e}(),function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e),this.win=t;var r=this.win.history;this.startIndex_=r.length-1,r.state&&void 0!==r.state[f]&&(this.startIndex_=Math.min(r.state[f],this.startIndex_)),this.stackIndex_=this.startIndex_,this.waitingState_,this.onStackIndexUpdated_=null,this.supportsState_="state"in r,this.unsupportedState_=n(this.stackIndex_);var o=void 0,a=void 0;r.pushState&&r.replaceState?(this.origPushState_=r.pushState.bind(r),this.origReplaceState_=r.replaceState.bind(r),o=function(e,t,n){i.unsupportedState_=e,i.origPushState_(e,t,n)},a=function(e,t,n){i.unsupportedState_=e,i.origReplaceState_(e,t,n)}):(o=function(e,t,n){i.unsupportedState_=e},a=function(e,t,n){i.unsupportedState_=e}),this.pushState_=o,this.replaceState_=a;try{this.replaceState_(n(this.stackIndex_))}catch(u){l.log.error(d,"Initial replaceState failed: "+u.message)}r.pushState=this.historyPushState_.bind(this),r.replaceState=this.historyReplaceState_.bind(this);var c=new s.Pass(this.onHistoryEvent_.bind(this),50);this.popstateHandler_=function(e){l.log.fine(d,"popstate event: "+i.win.history.length+", "+JSON.stringify(e.state)),c.schedule()},this.hashchangeHandler_=function(){l.log.fine(d,"hashchange event: "+i.win.history.length+", "+i.win.location.hash),c.schedule()},this.win.addEventListener("popstate",this.popstateHandler_),this.win.addEventListener("hashchange",this.hashchangeHandler_)}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.origPushState_&&(this.win.history.pushState=this.origPushState_),this.origReplaceState_&&(this.win.history.replaceState=this.origReplaceState_),this.win.removeEventListener("popstate",this.popstateHandler_),this.win.removeEventListener("hashchange",this.hashchangeHandler_)}},{key:"setOnStackIndexUpdated",value:function(e){this.onStackIndexUpdated_=e}},{key:"push",value:function(){var e=this;return this.whenReady_(function(){return e.historyPushState_(),Promise.resolve(e.stackIndex_)})}},{key:"pop",value:function(e){var t=this;return e=Math.max(e,this.startIndex_),this.whenReady_(function(){return t.back_(t.stackIndex_-e+1)})}},{key:"backTo",value:function(e){var t=this;return e=Math.max(e,this.startIndex_),this.whenReady_(function(){return t.back_(t.stackIndex_-e)})}},{key:"onHistoryEvent_",value:function(){var e=this.getState_();l.log.fine(d,"history event: "+this.win.history.length+", "+JSON.stringify(e));var t=e?e[f]:void 0,i=this.stackIndex_,n=this.waitingState_;this.waitingState_=void 0,i>this.win.history.length-2&&(i=this.win.history.length-2,this.updateStackIndex_(i)),void 0==t?i+=1:i=t<this.win.history.length?t:this.win.history.length-1,e||(e={}),e[f]=i,this.replaceState_(e,void 0,void 0),i!=this.stackIndex_&&this.updateStackIndex_(i),i<this.startIndex_&&(this.startIndex_=i),n&&n.resolve()}},{key:"getState_",value:function(){return this.supportsState_?this.win.history.state:this.unsupportedState_}},{key:"assertReady_",value:function(){a.assert(!this.waitingState_,"The history must not be in the waiting state")}},{key:"whenReady_",value:function(e){return this.waitingState_?this.waitingState_.promise.then(e,e):e()}},{key:"wait_",value:function(){this.assertReady_();var e=void 0,t=void 0,i=c.timer.timeoutPromise(500,new Promise(function(i,n){e=i,t=n}));return this.waitingState_={promise:i,resolve:e,reject:t},i}},{key:"back_",value:function(e){var t=this;if(this.assertReady_(),0>=e)return Promise.resolve(this.stackIndex_);this.unsupportedState_=n(this.stackIndex_-e);var i=this.wait_();return this.win.history.go(-e),i.then(function(){return Promise.resolve(t.stackIndex_)})}},{key:"historyPushState_",value:function(e,t,i){this.assertReady_(),e||(e={});var n=(this.win.history.length,this.stackIndex_+1);e[f]=n,this.pushState_(e,t,i),n!=this.win.history.length-1&&(n=this.win.history.length-1,e[f]=n,this.replaceState_(e)),this.updateStackIndex_(n)}},{key:"historyReplaceState_",value:function(e,t,i){this.assertReady_(),e||(e={});var n=Math.min(this.stackIndex_,this.win.history.length-1);e[f]=n,this.replaceState_(e,t,i),this.updateStackIndex_(n)}},{key:"updateStackIndex_",value:function(e){this.assertReady_(),e=Math.min(e,this.win.history.length-1),this.stackIndex_!=e&&(l.log.fine(d,"stack index changed: "+this.stackIndex_+" -> "+e),this.stackIndex_=e,this.onStackIndexUpdated_&&this.onStackIndexUpdated_(e))}}]),e}());i.HistoryBindingNatural_=v;var m=function(){function e(t){babelHelpers.classCallCheck(this,e),this.viewer_=t,this.stackIndex_=0,this.onStackIndexUpdated_=null,this.unlistenOnHistoryPopped_=this.viewer_.onHistoryPoppedEvent(this.onHistoryPopped_.bind(this))}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.unlistenOnHistoryPopped_()}},{key:"setOnStackIndexUpdated",value:function(e){this.onStackIndexUpdated_=e}},{key:"push",value:function(){return this.updateStackIndex_(this.stackIndex_+1),this.viewer_.postPushHistory(this.stackIndex_),Promise.resolve(this.stackIndex_)}},{key:"pop",value:function(e){return e>this.stackIndex_?Promise.resolve(this.stackIndex_):(this.viewer_.postPopHistory(e),this.updateStackIndex_(e-1),Promise.resolve(this.stackIndex_))}},{key:"onHistoryPopped_",value:function(e){this.updateStackIndex_(e.newStackIndex)}},{key:"updateStackIndex_",value:function(e){this.stackIndex_!=e&&(l.log.fine(d,"stack index changed: "+this.stackIndex_+" -> "+e),this.stackIndex_=e,this.onStackIndexUpdated_&&this.onStackIndexUpdated_(e))}}]),e}();i.HistoryBindingVirtual_=m},{"./asserts":84,"./log":102,"./pass":105,"./service":112,"./timer":117,"./viewer":120}],98:[function(e,t,i){"use strict";function n(e){return o.getService(e,"input",function(){return new h(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.inputFor=n;var r=e("./observable"),o=e("./service"),s=e("./log"),a=e("./event-helper"),u=(e("./timer"),"Input"),l=3,c=300,h=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t,this.boundOnKeyDown_=this.onKeyDown_.bind(this),this.boundOnMouseDown_=this.onMouseDown_.bind(this),this.boundOnMouseMove_=this.onMouseMove_.bind(this),this.boundMouseCanceled_=this.mouseCanceled_.bind(this),this.boundMouseConfirmed_=this.mouseConfirmed_.bind(this),this.hasTouch_="ontouchstart"in t||void 0!==t.navigator.maxTouchPoints&&t.navigator.maxTouchPoints>0||void 0!==t.DocumentTouch,s.log.fine(u,"touch detected:",this.hasTouch_),this.keyboardActive_=!1,this.win.document.addEventListener("keydown",this.boundOnKeyDown_),this.win.document.addEventListener("mousedown",this.boundOnMouseDown_),this.hasMouse_=!0,this.mouseConfirmAttemptCount_=0,this.touchDetectedObservable_=new r.Observable,this.mouseDetectedObservable_=new r.Observable,this.keyboardStateObservable_=new r.Observable,this.hasTouch_&&(this.hasMouse_=!this.hasTouch_,a.listenOnce(t.document,"mousemove",this.boundOnMouseMove_))}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.win.document.removeEventListener("keydown",this.boundOnKeyDown_),this.win.document.removeEventListener("mousedown",this.boundOnMouseDown_)}},{key:"isTouchDetected",value:function(){return this.hasTouch_}},{key:"onTouchDetected",value:function(e,t){return t&&e(this.isTouchDetected()),this.touchDetectedObservable_.add(e)}},{key:"isMouseDetected",value:function(){return this.hasMouse_}},{key:"onMouseDetected",value:function(e,t){return t&&e(this.isMouseDetected()),this.mouseDetectedObservable_.add(e)}},{key:"isKeyboardActive",value:function(){return this.keyboardActive_}},{key:"onKeyboardStateChanged",value:function(e,t){return t&&e(this.isKeyboardActive()),this.keyboardStateObservable_.add(e)}},{key:"onKeyDown_",value:function(e){if(!this.keyboardActive_&&!e.defaultPrevented){var t=e.target;(!t||"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&"SELECT"!=t.tagName&&"OPTION"!=t.tagName&&!t.hasAttribute("contenteditable"))&&(this.keyboardActive_=!0,this.keyboardStateObservable_.fire(!0),s.log.fine(u,"keyboard activated"))}}},{key:"onMouseDown_",value:function(){this.keyboardActive_&&(this.keyboardActive_=!1,this.keyboardStateObservable_.fire(!1),s.log.fine(u,"keyboard deactivated"))}},{key:"onMouseMove_",value:function(){return a.listenOncePromise(this.win.document,"click",!1,c).then(this.boundMouseCanceled_,this.boundMouseConfirmed_)}},{key:"mouseConfirmed_",value:function(){this.hasMouse_=!0,this.mouseDetectedObservable_.fire(!0),s.log.fine(u,"mouse detected")}},{key:"mouseCanceled_",value:function(){this.mouseConfirmAttemptCount_++,this.mouseConfirmAttemptCount_<=l?a.listenOnce(this.win.document,"mousemove",this.boundOnMouseMove_):s.log.fine(u,"mouse detection failed")}}]),e}();i.Input=h},{"./event-helper":94,"./log":102,"./observable":104,"./service":112,"./timer":117}],99:[function(e,t,i){"use strict";function n(e,t,i,n){return{left:e,top:t,width:i,height:n,bottom:t+n,right:e+i}}function r(e){return{left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.top+e.height,right:e.left+e.width}}function o(e,t){return e.top<=t.bottom&&t.top<=e.bottom&&e.left<=t.right&&t.left<=e.right}function s(e,t,i){return{top:e.top-e.height*i,bottom:e.bottom+e.height*i,left:e.left-e.width*t,right:e.right+e.width*t,width:e.width*(1+2*t),height:e.height*(1+2*i)}}function a(e,t,i){return 0==t&&0==i?e:n(e.left+t,e.top+i,e.width,e.height)}Object.defineProperty(i,"__esModule",{value:!0}),i.layoutRectLtwh=n,i.layoutRectFromDomRect=r,i.layoutRectsOverlap=o,i.expandLayoutRect=s,i.moveLayoutRect=a},{}],100:[function(e,t,i){"use strict";function n(e){for(var t in p)if(p[t]==e)return p[t];return void 0}function r(e){return"-amp-layout-"+e}function o(e){return e==p.FIXED||e==p.FIXED_HEIGHT||e==p.RESPONSIVE||e==p.FILL}function s(e){var t="string"==typeof e?e:e.tagName;return t&&0==t.toLowerCase().indexOf("i-")}function a(e){return"number"==typeof e?e+"px":e&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax)?$/.test(e)?/^\d+(\.\d+)?$/.test(e)?e+"px":e:void 0}function u(e){return f.assert(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax)$/.test(e),"Invalid length value: %s",e),e}function l(e){u(e);var t=f.assert(e.match(/[a-z]+/i),"Failed to read units from %s",e);return t[0]}function c(e){return parseFloat(e)}function h(e){return e=e.toUpperCase(),void 0!==v[e]}function d(e){if(e=e.toUpperCase(),!v[e]){var t=e.replace(/^AMP\-/,""),i=document.createElement(t);i.controls=!0,i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),v[e]={width:i.offsetWidth,height:i.offsetHeight},document.body.removeChild(i)}return v[e]}Object.defineProperty(i,"__esModule",{value:!0}),i.parseLayout=n,i.getLayoutClass=r,i.isLayoutSizeDefined=o,i.isInternalElement=s,i.parseLength=a,i.assertLength=u,i.getLengthUnits=l,i.getLengthNumeral=c,i.hasNaturalDimensions=h,i.getNaturalDimensions=d;var f=e("./asserts"),p={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill"};i.Layout=p;var v={"AMP-PIXEL":{width:1,height:1},"AMP-AUDIO":null};i.naturalDimensions_=v},{"./asserts":84}],101:[function(e,t,i){"use strict";function n(){var e=document.createElement("div"),t=document.createElement("div");e.appendChild(t),e.classList.add("hidden"),e.classList.add("-amp-autoplaceholder"),t.classList.add("-amp-loader");for(var i=0;3>i;i++){var n=document.createElement("div");n.classList.add("-amp-loader-dot"),t.appendChild(n)}return e}Object.defineProperty(i,"__esModule",{value:!0}),i.createLoaderElement=n},{}],102:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./mode"),r=(new Date).getTime(),o=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t.AMP_TEST?t.parent:t,this.isEnabled_=this.shouldBeEnabled_()}return babelHelpers.createClass(e,[{key:"shouldBeEnabled_",value:function(){if(!this.win.console||!this.win.console.log)return!1;var e=this.win.location.hash.match(/log=(\d)/),t=e&&e[1];return n.getMode().localDev&&"0"!=t?!0:this.win.location.hash&&"1"==t?!0:!1}},{key:"msg_",value:function(e,t,i){if(this.isEnabled_){var n=this.win.console.log;"ERROR"==t?n=this.win.console.error||n:"INFO"==t?n=this.win.console.info||n:"WARN"==t&&(n=this.win.console.warn||n),i.unshift((new Date).getTime()-r,"["+e+"]"),n.apply(this.win.console,i)}}},{key:"fine",value:function(e,t){this.isEnabled_&&this.msg_(e,"FINE",Array.prototype.slice.call(arguments,1))}},{key:"info",value:function(e,t){this.isEnabled_&&this.msg_(e,"INFO",Array.prototype.slice.call(arguments,1))}},{key:"warn",value:function(e,t){this.isEnabled_&&this.msg_(e,"WARN",Array.prototype.slice.call(arguments,1))}},{key:"error",value:function(e,t){this.isEnabled_&&this.msg_(e,"ERROR",Array.prototype.slice.call(arguments,1))}}]),e}();i.Log=o;var s=new o(window);i.log=s},{"./mode":103}],103:[function(e,t,i){"use strict";function n(){return a?a:window.AMP_MODE=a=o()}function r(e){a=e}function o(){var e=("localhost"==location.hostname||location.ancestorOrigins&&location.ancestorOrigins[0]&&0==location.ancestorOrigins[0].indexOf("http://localhost:"))&&!!document.querySelector('script[src*="/dist/"],script[src*="/base/"]'),t=s.parseQueryString(location.hash).development,i=void 0!=t?"1"==t:!!document.querySelector("script[development]");return{localDev:e,development:i,minified:!0,test:window.AMP_TEST}}Object.defineProperty(i,"__esModule",{value:!0}),i.getMode=n,i.setModeForTesting=r;var s=e("./url"),a=window.AMP_MODE},{"./url":118}],104:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){babelHelpers.classCallCheck(this,e),this.handlers_=[]}return babelHelpers.createClass(e,[{key:"add",value:function(e){var t=this;return this.handlers_.push(e),function(){t.remove(e)}}},{key:"remove",value:function(e){for(var t=0;t<this.handlers_.length;t++)if(e==this.handlers_[t]){this.handlers_.splice(t,1);break}}},{key:"fire",value:function(e){this.handlers_.forEach(function(t){t(e)})}},{key:"getHandlerCount",value:function(){return this.handlers_.length}}]),e}();i.Observable=n},{}],105:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./timer"),r=function(){function e(t,i){babelHelpers.classCallCheck(this,e),this.handler_=t,this.defaultDelay_=i||0,this.scheduled_=-1,this.nextTime_=0}return babelHelpers.createClass(e,[{key:"isPending",value:function(){return-1!=this.scheduled_}},{key:"schedule",value:function(e){var t=this,i=e||this.defaultDelay_,r=n.timer.now()+i;return-1==this.scheduled_||r-this.nextTime_<-10?(-1!=this.scheduled_&&n.timer.cancel(this.scheduled_),this.nextTime_=r,this.scheduled_=n.timer.delay(function(){t.scheduled_=-1,t.nextTime_=0,t.handler_()},i),!0):!1}},{key:"cancel",value:function(){-1!=this.scheduled_&&(n.timer.cancel(this.scheduled_),this.scheduled_=-1)}}]),e}();i.Pass=r},{"./timer":117}],106:[function(e,t,i){"use strict";function n(e){return r.getService(e,"platform",function(){return new o(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.platformFor=n;var r=e("./service"),o=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t}return babelHelpers.createClass(e,[{key:"isIos",value:function(){return/iPhone|iPad|iPod/i.test(this.win.navigator.userAgent)}},{key:"isChrome",value:function(){return/Chrome|CriOS/i.test(this.win.navigator.userAgent)}}]),e}();i.Platform=o;var s=n(window);i.platform=s},{"./service":112}],107:[function(e,t,i){"use strict";e("document-register-element/build/document-register-element.max"),e("./custom-core-js-shim"),e("babel-core/external-helpers")},{"./custom-core-js-shim":86,"babel-core/external-helpers":6,"document-register-element/build/document-register-element.max":80}],108:[function(e,t,i){"use strict";function n(e){return r.getService(e,"preconnect",function(){return new a(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.preconnectFor=n;var r=e("./service"),o=e("./url"),s=e("./timer"),a=function(){function e(t){babelHelpers.classCallCheck(this,e),this.head_=t.document.head,this.origins_={},this.origins_[o.parseUrl(t.location.href).origin]=!0}return babelHelpers.createClass(e,[{key:"url",value:function(e){var t=this,i=o.parseUrl(e).origin;if(!this.origins_[i]){this.origins_[i]=!0;var n=document.createElement("link");n.setAttribute("rel","dns-prefetch"),n.setAttribute("href",i);var r=document.createElement("link");r.setAttribute("rel","preconnect"),r.setAttribute("href",i),this.head_.appendChild(n),this.head_.appendChild(r),s.timer.delay(function(){t.head_.removeChild(n),t.head_.removeChild(r)},1e4)}}},{key:"threePFrame",value:function(){this.url("https://3p.ampproject.net")}}]),e}()},{"./service":112,"./timer":117,"./url":118}],109:[function(e,t,i){"use strict";function n(e){"0"==o.viewerFor(e).getParam("p2r")&&r.platformFor(e).isChrome()&&new a(e.document,s.viewportFor(e))}Object.defineProperty(i,"__esModule",{value:!0}),i.installPullToRefreshBlocker=n;var r=e("./platform"),o=e("./viewer"),s=e("./viewport"),a=function(){function e(t,i){babelHelpers.classCallCheck(this,e),this.doc_=t,this.viewport_=i,this.tracking_=!1,this.startPos_=0,this.boundTouchStart_=this.onTouchStart_.bind(this),this.boundTouchMove_=this.onTouchMove_.bind(this),this.boundTouchEnd_=this.onTouchEnd_.bind(this),this.boundTouchCancel_=this.onTouchCancel_.bind(this),this.doc_.addEventListener("touchstart",this.boundTouchStart_,!0)}return babelHelpers.createClass(e,[{key:"cleanup",value:function(){this.stopTracking_(),this.doc_.removeEventListener("touchstart",this.boundTouchStart_,!0)}},{key:"onTouchStart_",value:function(e){this.tracking_||!e.touches||1!=e.touches.length||this.viewport_.getTop()>0||this.startTracking_(e.touches[0].clientY)}},{key:"startTracking_",value:function(e){this.tracking_=!0,this.startPos_=e,this.doc_.addEventListener("touchmove",this.boundTouchMove_,!0),this.doc_.addEventListener("touchend",this.boundTouchEnd_,!0),this.doc_.addEventListener("touchcancel",this.boundTouchCancel_,!0)}},{key:"stopTracking_",value:function(){this.tracking_=!1,this.startPos_=0,this.doc_.removeEventListener("touchmove",this.boundTouchMove_,!0),this.doc_.removeEventListener("touchend",this.boundTouchEnd_,!0),this.doc_.removeEventListener("touchcancel",this.boundTouchCancel_,!0)}},{key:"onTouchMove_",value:function(e){if(this.tracking_){var t=e.touches[0].clientY-this.startPos_;t>0&&e.preventDefault(),0!=t&&this.stopTracking_()}}},{key:"onTouchEnd_",value:function(e){this.stopTracking_()}},{key:"onTouchCancel_",value:function(e){this.stopTracking_()}}]),e}();i.PullToRefreshBlocker=a},{"./platform":106,"./viewer":120,"./viewport":121}],110:[function(e,t,i){"use strict";function n(e){return e=e.toLowerCase(),"amp-ad"==e?2:"amp-pixel"==e?1:0}function r(e){return void 0!==e.length?e:[e]}Object.defineProperty(i,"__esModule",{value:!0}),i.getElementPriority=n;var o=e("./pass"),s=e("./asserts"),a=e("./layout-rect"),u=e("./input"),l=e("./log"),c=e("./document-state"),h=e("./error"),d=e("./timer"),f=e("./viewer"),p=e("./viewport"),v=e("./vsync"),m="Resources",y="__AMP__RESOURCE",g="__AMP__OWNER",_="L",b=0,w="P",k=2,O=10,S=1e3,E=1e3,$=function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e),this.win=t,this.viewer_=f.viewerFor(t),this.isRuntimeOn_=this.viewer_.isRuntimeOn(),this.maxDpr_=this.win.devicePixelRatio||1,this.resourceIdCounter_=0,this.resources_=[],this.visible_=this.viewer_.isVisible(),this.prerenderSize_=this.viewer_.getPrerenderSize(),this.documentReady_=!1,this.relayoutAll_=!1,this.relayoutTop_=-1,this.forceBuild_=!1,this.lastVelocity_=0,this.pass_=new o.Pass(function(){return i.doPass_()}),this.exec_=new C,this.queue_=new C,this.changeHeightRequests_=[],this.deferredMutates_=[],this.scrollHeight_=0,this.viewport_=p.viewportFor(this.win),this.docState_=c.documentStateFor(this.win),this.vsyncScheduled_=!1,this.viewport_.onChanged(function(e){i.lastVelocity_=e.velocity,i.relayoutAll_=i.relayoutAll_||e.relayoutAll,i.schedulePass()}),this.docState_.onReady(function(){i.setDocumentReady_(),i.forceBuild_=!0,i.relayoutAll_=!0,i.schedulePass(),i.monitorInput_()}),this.viewer_.onVisibilityChanged(function(){i.schedulePass()}),this.viewer_.onRuntimeState(function(e){l.log.fine(m,"Runtime state:",e),i.isRuntimeOn_=e,i.schedulePass(1)}),this.relayoutAll_=!0,this.schedulePass()}return babelHelpers.createClass(e,[{key:"monitorInput_",value:function(){var e=this,t=u.inputFor(this.win);t.onTouchDetected(function(t){e.toggleInputClass_("amp-mode-touch",t)},!0),t.onMouseDetected(function(t){e.toggleInputClass_("amp-mode-mouse",t)},!0),t.onKeyboardStateChanged(function(t){e.toggleInputClass_("amp-mode-keyboard-active",t)},!0)}},{key:"toggleInputClass_",value:function(e,t){var i=this;v.vsync.mutate(function(){i.win.document.body.classList.toggle(e,t)})}},{key:"setDocumentReady_",value:function(){this.documentReady_=!0,this.viewer_.postDocumentReady(this.viewport_.getSize().width,this.win.document.body.scrollHeight),this.updateScrollHeight_()}},{key:"updateScrollHeight_",value:function(){if(this.win.document.body){var e=this.win.document.body.scrollHeight;e!=this.scrollHeight_&&(this.scrollHeight_=e,this.viewer_.postDocumentResized(this.viewport_.getSize().width,e))}}},{key:"getMaxDpr",value:function(){return this.maxDpr_}},{key:"getDpr",value:function(){return this.maxDpr_}},{key:"getResourceForElement",value:function(e){return s.assert(e[y],"Missing resource prop on %s",e)}},{key:"add",value:function(e){var t=new P(++this.resourceIdCounter_,e,this);e.id||(e.id="AMP_"+t.getId()),e[y]=t,this.resources_.push(t),t.build(this.forceBuild_),this.schedulePass(),l.log.fine(m,"element added:",t.debugid)}},{key:"remove",value:function(e){var t=this.getResourceForElement(e),i=t?this.resources_.indexOf(t):-1;-1!=i&&this.resources_.splice(i,1),l.log.fine(m,"element removed:",t.debugid)}},{key:"upgraded",value:function(e){var t=this.getResourceForElement(e);t.build(this.forceBuild_),this.schedulePass(),l.log.fine(m,"element upgraded:",t.debugid)}},{key:"setOwner",value:function(e,t){s.assert(t.contains(e),"Owner must contain the element"),e[g]=t}},{key:"scheduleLayout",value:function(e,t){this.scheduleLayoutOrPreloadForSubresources_(this.getResourceForElement(e),!0,r(t))}},{key:"schedulePreload",value:function(e,t){this.scheduleLayoutOrPreloadForSubresources_(this.getResourceForElement(e),!1,r(t))}},{key:"updateInViewport",value:function(e,t,i){this.updateInViewportForSubresources_(this.getResourceForElement(e),r(t),i)}},{key:"changeHeight",value:function(e,t){this.scheduleChangeHeight_(this.getResourceForElement(e),t)}},{key:"deferMutate",value:function(e,t){this.scheduleDeferredMutate_(this.getResourceForElement(e),t),this.schedulePassVsync()}},{key:"schedulePass",value:function(e){this.pass_.schedule(e)}},{key:"schedulePassVsync",value:function(){var e=this;this.vsyncScheduled_||(this.vsyncScheduled_=!0,this.docState_.isHidden()?this.schedulePass(16):v.vsync.mutate(function(){return e.doPass_()}))}},{key:"doPass_",value:function(){if(!this.isRuntimeOn_)return void l.log.fine(m,"runtime is off");var e=this.visible_;this.visible_=this.viewer_.isVisible(),this.prerenderSize_=this.viewer_.getPrerenderSize();var t=this.viewport_.getSize();if(l.log.fine(m,"PASS: at "+d.timer.now()+", visible=",this.visible_,", forceBuild=",this.forceBuild_,", relayoutAll=",this.relayoutAll_,", relayoutTop=",this.relayoutTop_,", viewportSize=",t.width,t.height,", prerenderSize=",this.prerenderSize_),this.pass_.cancel(),this.vsyncScheduled_=!1,e&&!this.visible_)return l.log.fine(m,"document become inactive"),void this.documentBecameInactive_();if(t.height>0&&t.width>0){this.mutateWork_(),this.discoverWork_();var i=this.work_();this.visible_?(l.log.fine(m,"next pass:",i),this.schedulePass(i),this.updateScrollHeight_()):l.log.fine(m,"document is not visible: no scheduling")}}},{key:"mutateWork_",value:function(){if(this.deferredMutates_.length>0){l.log.fine(m,"deferred mutates:",this.deferredMutates_.length);var e=this.deferredMutates_;this.deferredMutates_=[];for(var t=0;t<e.length;t++)e[t]()}if(this.changeHeightRequests_.length>0){l.log.fine(m,"change height requests:",this.changeHeightRequests_.length);var i=this.changeHeightRequests_;this.changeHeightRequests_=[];for(var n=-1,t=0;t<i.length;t++){var r=i[t],o=r.resource.getLayoutBox();o.height!=r.newHeight&&(o.top>=0&&(n=-1==n?o.top:Math.min(n,o.top)),r.resource.changeHeight(r.newHeight))}-1!=n&&(this.relayoutTop_=n)}}},{key:"discoverWork_",value:function(){var e=d.timer.now(),t=this.relayoutAll_;this.relayoutAll_=!1;var i=this.relayoutTop_;this.relayoutTop_=-1;for(var n=0,r=0;r<this.resources_.length;r++){var o=this.resources_[r];o.getState()==x.NOT_BUILT&&o.build(this.forceBuild_),(o.getState()==x.NOT_LAID_OUT||t)&&(o.applyMediaQuery(),n++)}if(n>0||t||-1!=i)for(var r=0;r<this.resources_.length;r++){var o=this.resources_[r];o.getState()==x.NOT_BUILT||o.hasOwner()||(t||o.getState()==x.NOT_LAID_OUT||-1!=i&&o.getLayoutBox().bottom>=i)&&o.measure()}var s=this.viewport_.getRect(),u=void 0;u=this.visible_?a.expandLayoutRect(s,.25,2):this.prerenderSize_>0?a.expandLayoutRect(s,.25,this.prerenderSize_-1+.25):null;var c=a.expandLayoutRect(s,.25,.25);if(u)for(var r=0;r<this.resources_.length;r++){var o=this.resources_[r];o.getState()!=x.READY_FOR_LAYOUT||o.hasOwner()||o.isDisplayed()&&o.overlaps(u)&&this.scheduleLayoutOrPreload_(o,!0)}for(var r=0;r<this.resources_.length;r++){var o=this.resources_[r];if(!o.hasOwner()){var h=this.visible_&&o.isDisplayed()&&o.overlaps(c);o.isInViewport()!=h&&o.setInViewport(h)}}if(this.visible_&&0==this.exec_.getSize()&&0==this.queue_.getSize()&&e>this.exec_.getLastDequeueTime()+5e3)for(var f=0,r=0;r<this.resources_.length;r++){var o=this.resources_[r];if(o.getState()==x.READY_FOR_LAYOUT&&!o.hasOwner()&&o.isDisplayed()&&(l.log.fine(m,"idle layout:",o.debugid),this.scheduleLayoutOrPreload_(o,!1),f++,f>=4))break}}},{key:"documentBecameInactive_",value:function(){for(var e=0;e<this.resources_.length;e++){var t=this.resources_[e];t.documentBecameInactive()}}},{key:"work_",value:function(){var e=d.timer.now(),t=this.calcTaskScore_.bind(this,this.viewport_.getRect(),Math.sign(this.lastVelocity_)),i=-1,n=this.queue_.peek(t);if(n)do{if(i=this.calcTaskTimeout_(n),l.log.fine(m,"peek from queue:",n.id,"sched at",n.scheduleTime,"score",t(n),"timeout",i),i>16)break;this.queue_.dequeue(n);var r=this.exec_.getTaskById(n.id);r?r.promise.then(this.reschedule_.bind(this,n),this.reschedule_.bind(this,n)):(n.promise=n.callback(this.visible_),n.startTime=e,l.log.fine(m,"exec:",n.id,"at",n.startTime),this.exec_.enqueue(n),n.promise.then(this.taskComplete_.bind(this,n,!0),this.taskComplete_.bind(this,n,!1))["catch"](h.reportError)),n=this.queue_.peek(t),i=-1}while(n);if(l.log.fine(m,"queue size:",this.queue_.getSize()),l.log.fine(m,"exec size:",this.exec_.getSize()),i>=0)return i;var o=2*(e-this.exec_.getLastDequeueTime());return o=Math.max(Math.min(3e4,o),5e3)}},{key:"calcTaskScore_",value:function(e,t,i){var n=i.resource.getLayoutBox(),r=Math.floor((n.top-e.top)/e.height);return 0!=r&&Math.sign(r)!=(t||1)&&(r*=2),r=Math.abs(r),i.priority*O+r}},{key:"calcTaskTimeout_",value:function(e){if(0==this.exec_.getSize())return 0;var t=d.timer.now(),i=0;return this.exec_.forEach(function(n){var r=Math.max((e.priority-n.priority)*S,0);i=Math.max(i,r-(t-n.startTime))}),i}},{key:"reschedule_",value:function(e){this.queue_.getTaskById(e.id)||this.queue_.enqueue(e)}},{key:"taskComplete_",value:function(e,t,i){return this.exec_.dequeue(e),this.schedulePass(E),t?void 0:(l.log.error(m,"task failed:",e.id,e.resource.debugid,i),Promise.reject(i))}},{key:"scheduleChangeHeight_",value:function(e,t){if(e.getLayoutBox().height!=t){for(var i=null,n=0;n<this.changeHeightRequests_.length;n++)if(this.changeHeightRequests_[n].resource==e){i=this.changeHeightRequests_[n];break}i?i.newHeight=t:this.changeHeightRequests_.push({resource:e,newHeight:t}),this.schedulePassVsync()}}},{key:"scheduleDeferredMutate_",value:function(e,t){this.deferredMutates_.push(t)}},{key:"scheduleLayoutOrPreload_",value:function(e,t,i){s.assert(e.getState()!=x.NOT_BUILT&&e.isDisplayed(),"Not ready for layout: %s (%s)",e.debugid,e.getState()),(this.visible_||e.prerenderAllowed())&&(e.isInViewport()||e.renderOutsideViewport())&&(t?this.schedule_(e,_,b,i||0,e.startLayout.bind(e)):this.schedule_(e,w,k,i||0,e.startLayout.bind(e)))}},{key:"scheduleLayoutOrPreloadForSubresources_",value:function(e,t,i){var n=this,r=[];this.discoverResourcesForArray_(e,i,function(e){e.getState()!=x.NOT_BUILT&&r.push(e)}),r.length>0&&r.forEach(function(i){i.measure(),i.getState()==x.READY_FOR_LAYOUT&&i.isDisplayed()&&n.scheduleLayoutOrPreload_(i,t,e.getPriority())})}},{key:"schedule_",value:function(e,t,i,n,r){var o=e.debugid+"#"+t,s={id:o,resource:e,priority:Math.max(e.getPriority(),n)+i,callback:r,scheduleTime:d.timer.now()};l.log.fine(m,"schedule:",s.id,"at",s.scheduleTime);var a=this.queue_.getTaskById(o);(!a||s.priority<a.priority)&&(a&&this.queue_.dequeue(a),this.queue_.enqueue(s),this.schedulePass(this.calcTaskTimeout_(s))),s.resource.layoutScheduled()}},{key:"updateInViewportForSubresources_",value:function(e,t,i){var n=e.isInViewport()&&i;this.discoverResourcesForArray_(e,t,function(e){e.setInViewport(n)})}},{key:"discoverResourcesForArray_",value:function(e,t,i){var n=this;t.forEach(function(t){s.assert(e.element.contains(t)),n.discoverResourcesForElement_(t,i)})}},{key:"discoverResourcesForElement_",value:function(e,t){if(e.classList.contains("-amp-element"))t(this.getResourceForElement(e));else for(var i=e.getElementsByClassName("-amp-element"),n=[],r=0;r<i.length;r++){for(var o=i[r],s=!1,a=0;a<n.length;a++)if(n[a].contains(o)){s=!0;break}s||(n.push(o),t(this.getResourceForElement(o)))}}}]),e}();i.Resources=$;var P=function(){function e(t,i,r){babelHelpers.classCallCheck(this,e),this.id_=t,this.element=i,this.debugid=i.tagName.toLowerCase()+"#"+t,this.resources_=r,this.blacklisted_=!1,this.owner_=void 0,this.priority_=n(i.tagName),this.state_=i.isBuilt()?x.NOT_LAID_OUT:x.NOT_BUILT,this.layoutCount_=0,this.layoutBox_=a.layoutRectLtwh(-1e4,-1e4,0,0),this.isInViewport_=!1}return babelHelpers.createClass(e,[{key:"getId",value:function(){return this.id_}},{key:"getOwner",value:function(){if(void 0===this.owner_){for(var e=(this.element,this.element);e;e=e.parentElement)if(e[g]){this.owner_=e[g];break;

}void 0===this.owner_&&(this.owner_=null)}return this.owner_}},{key:"hasOwner",value:function(){return!!this.getOwner()}},{key:"getPriority",value:function(){return this.priority_}},{key:"getState",value:function(){return this.state_}},{key:"build",value:function(e){if(this.blacklisted_||!this.element.isUpgraded())return!1;var t=void 0;try{t=this.element.build(e)}catch(i){l.log.error(m,"failed to build:",this.debugid,i),t=!1,this.blacklisted_=!0}return t?(this.state_=x.NOT_LAID_OUT,!0):!1}},{key:"applyMediaQuery",value:function(){this.element.applyMediaQuery()}},{key:"changeHeight",value:function(e){this.element.changeHeight(e),this.state_!=x.NOT_BUILT&&(this.state_=x.NOT_LAID_OUT)}},{key:"measure",value:function(){if(s.assert(this.element.isUpgraded(),"Must be upgraded to measure: %s",this.debugid),this.state_!=x.NOT_BUILT){var e=this.resources_.viewport_.getLayoutRect(this.element);(this.state_==x.NOT_LAID_OUT||this.layoutBox_.top!=e.top||this.layoutBox_.width!=e.width||this.layoutBox_.height!=e.height)&&(this.state_==x.NOT_LAID_OUT||this.element.isRelayoutNeeded())&&(this.state_=x.READY_FOR_LAYOUT),this.layoutBox_=e,this.element.updateLayoutBox(e)}}},{key:"getLayoutBox",value:function(){return this.layoutBox_}},{key:"isDisplayed",value:function(){return this.layoutBox_.height>0&&this.layoutBox_.width>0}},{key:"overlaps",value:function(e){return a.layoutRectsOverlap(this.layoutBox_,e)}},{key:"prerenderAllowed",value:function(){return this.element.prerenderAllowed()}},{key:"renderOutsideViewport",value:function(){return this.element.renderOutsideViewport()}},{key:"layoutScheduled",value:function(){this.state_=x.LAYOUT_SCHEDULED}},{key:"startLayout",value:function(e){var t=this;if(this.layoutPromise_)return this.layoutPromise_;if(this.state_==x.LAYOUT_COMPLETE)return Promise.resolve();if(this.state_==x.LAYOUT_FAILED)return Promise.reject("already failed");if(s.assert(this.state_!=x.NOT_BUILT,"Not ready to start layout: %s (%s)",this.debugid,this.state_),!e&&!this.prerenderAllowed())return l.log.fine(m,"layout canceled due to non pre-renderable element:",this.debugid,this.state_),this.state_=x.READY_FOR_LAYOUT,Promise.resolve();if(!this.renderOutsideViewport()&&!this.isInViewport())return l.log.fine(m,"layout canceled due to element not being in viewport:",this.debugid,this.state_),this.state_=x.READY_FOR_LAYOUT,Promise.resolve();if(this.measure(),!this.isDisplayed())return l.log.fine(m,"layout canceled due to element loosing display:",this.debugid,this.state_),Promise.resolve();if(this.layoutCount_>0&&!this.element.isRelayoutNeeded())return l.log.fine(m,"layout canceled since it wasn't requested:",this.debugid,this.state_),this.state_=x.LAYOUT_COMPLETE,Promise.resolve();l.log.fine(m,"start layout:",this.debugid,"count:",this.layoutCount_),this.layoutCount_++,this.state_=x.LAYOUT_SCHEDULED;var i=void 0;try{i=this.element.layoutCallback()}catch(n){return Promise.reject(n)}return this.layoutPromise_=i.then(function(){return t.layoutComplete_(!0)},function(e){return t.layoutComplete_(!1,e)}),this.layoutPromise_}},{key:"layoutComplete_",value:function(e,t){return this.layoutPromise_=null,this.state_=e?x.LAYOUT_COMPLETE:x.LAYOUT_FAILED,e?void l.log.fine(m,"layout complete:",this.debugid):(l.log.fine(m,"loading failed:",this.debugid,t),Promise.reject(t))}},{key:"isInViewport",value:function(){return this.isInViewport_}},{key:"setInViewport",value:function(e){e!=this.isInViewport_&&this.state_!=x.NOT_BUILT&&(l.log.fine(m,"inViewport:",this.debugid,e),this.isInViewport_=e,this.element.viewportCallback(e))}},{key:"documentBecameInactive",value:function(){this.state_!=x.NOT_BUILT&&(this.isInViewport()&&this.setInViewport(!1),this.element.documentInactiveCallback()&&(this.state_=x.NOT_LAID_OUT))}}]),e}();i.Resource=P;var C=function(){function e(){babelHelpers.classCallCheck(this,e),this.tasks_=[],this.taskIdMap_={},this.lastEnqueueTime_=0,this.lastDequeueTime_=0}return babelHelpers.createClass(e,[{key:"getSize",value:function(){return this.tasks_.length}},{key:"getLastEnqueueTime",value:function(){return this.lastEnqueueTime_}},{key:"getLastDequeueTime",value:function(){return this.lastDequeueTime_}},{key:"getTaskById",value:function(e){return this.taskIdMap_[e]||null}},{key:"enqueue",value:function(e){s.assert(!this.taskIdMap_[e.id],"Task already enqueued: %s",e.id),this.tasks_.push(e),this.taskIdMap_[e.id]=e,this.lastEnqueueTime_=d.timer.now()}},{key:"dequeue",value:function(e){var t=this.taskIdMap_[e.id];return t?(this.tasks_.splice(this.tasks_.indexOf(t),1),delete this.taskIdMap_[e.id],this.lastDequeueTime_=d.timer.now(),!0):!1}},{key:"peek",value:function(e){for(var t=1e6,i=null,n=0;n<this.tasks_.length;n++){var r=this.tasks_[n],o=e(r);t>o&&(t=o,i=r)}return i}},{key:"forEach",value:function(e){this.tasks_.forEach(e)}}]),e}();i.TaskQueue_=C;var x={NOT_BUILT:0,NOT_LAID_OUT:1,READY_FOR_LAYOUT:2,LAYOUT_SCHEDULED:3,LAYOUT_COMPLETE:4,LAYOUT_FAILED:5};i.ResourceState_=x;var T=new $(window);i.resources=T},{"./asserts":84,"./document-state":90,"./error":93,"./input":98,"./layout-rect":99,"./log":102,"./pass":105,"./timer":117,"./viewer":120,"./viewport":121,"./vsync":122}],111:[function(e,t,i){"use strict";function n(e){if(!e.AMP_TAG){e.AMP_TAG=!0;var t=e.AMP||[];e.AMP={},e.AMP.registerElement=function(t,i,n){var r=function(){c.registerExtendedElement(e,t,i),d.push({name:t,implementationClass:i})};n?u.installStyles(e.document,n,r):r()},e.AMP.BaseElement=o.BaseElement,e.AMP.assert=s.assert;var i=h.viewerFor(e);e.AMP.viewer=i,a.getMode().development&&(e.AMP.toggleRuntime=i.toggleRuntime.bind(i)),e.AMP.push=function(i){t.push(i),i(e.AMP)};for(var n=0;n<t.length;n++){var r=t[n];r(e.AMP)}}}function r(e){for(var t=0;t<d.length;t++){var i=d[t];l.registerElement(e,i.name,i.implementationClass)}}Object.defineProperty(i,"__esModule",{value:!0}),i.adopt=n,i.registerForUnitTest=r;var o=e("./base-element"),s=e("./asserts"),a=e("./mode"),u=e("./styles"),l=e("./custom-element"),c=e("./extended-element"),h=e("./viewer"),d=[]},{"./asserts":84,"./base-element":85,"./custom-element":87,"./extended-element":96,"./mode":103,"./styles":116,"./viewer":120}],112:[function(e,t,i){"use strict";function n(e,t,i){var n=e.services;n||(n=e.services={});var r=n[t];return r?r:n[t]=i(e)}Object.defineProperty(i,"__esModule",{value:!0}),i.getService=n},{}],113:[function(e,t,i){"use strict";function n(e){var t=e.split(",");r.assert(t.length>0,"srcset has to have at least one source");var i=[];return t.forEach(function(e){var t=e.trim().split(/\s+/,2);if(0!=t.length&&(1!=t.length||t[0])&&(2!=t.length||t[0]||t[1])){var n=t[0].trim();if(1==t.length||2==t.length&&!t[1])i.push({url:n,dpr:1});else{var r=t[1].trim().toLowerCase(),o=r.substring(r.length-1);"w"==o?i.push({url:n,width:parseFloat(r)}):"x"==o&&i.push({url:n,dpr:parseFloat(r)})}}}),new o(i)}Object.defineProperty(i,"__esModule",{value:!0}),i.parseSrcset=n;var r=e("./asserts"),o=function(){function e(t){babelHelpers.classCallCheck(this,e),r.assert(t.length>0,"Srcset must have at least one source"),this.sources_=t;var i=!1,n=!1;this.sources_.forEach(function(e){r.assert(!(!e.width&&!e.dpr||e.width&&e.dpr),"Either dpr or width must be specified"),i=i||!!e.width,n=n||!!e.dpr}),r.assert(!i||!n,"Srcset cannot have both width and dpr sources"),this.sources_.sort(i?function(e,t){return r.assert(e.width!=t.width,"Duplicate width: %s",e.width),t.width-e.width}:function(e,t){return r.assert(e.dpr!=t.dpr,"Duplicate dpr: %s",e.dpr),t.dpr-e.dpr}),this.widthBased_=i,this.dprBased_=n}return babelHelpers.createClass(e,[{key:"select",value:function(e,t){r.assert(e,"width=%s",e),r.assert(t,"dpr=%s",t);var i=-1;return this.widthBased_?i=this.selectByWidth_(e,t):this.dprBased_&&(i=this.selectByDpr_(e,t)),-1!=i?this.sources_[i]:this.getLast()}},{key:"selectByWidth_",value:function(e,t){for(var i=-1,n=1e6,r=1e6,o=0;o<this.sources_.length;o++){var s=this.sources_[o],a=void 0;a=s.width?s.width/t:n/2,n=Math.min(n,a);var u=Math.abs((a-e)/e-.2);r>u&&(r=u,i=o)}return i}},{key:"selectByDpr_",value:function(e,t){for(var i=-1,n=1e6,r=0;r<this.sources_.length;r++){var o=this.sources_[r],s=o.dpr||1,a=Math.abs(s-t);n>a&&(n=a,i=r)}return i}},{key:"getLast",value:function(){return this.sources_[this.sources_.length-1]}}]),e}();i.Srcset=o},{"./asserts":84}],114:[function(e,t,i){"use strict";function n(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}Object.defineProperty(i,"__esModule",{value:!0}),i.dashToCamelCase=n},{}],115:[function(e,t,i){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t){for(var i=0;i<v.length;i++){var n=v[i]+t;if(void 0!==e[n])return n}return""}function o(e,t,i){var o=p[t];if(!o||i){if(o=t,void 0===e[t]){var s=n(t),a=r(e,s);void 0!==e[a]&&(o=a)}i||(p[t]=o)}return o}function s(e,t,i,n,r){var s=o(e.style,t,r);s&&(e.style[s]=n?i+n:i)}function a(e,t,i){var n=o(e.style,t,i);return n?e.style[n]:void 0}function u(e,t){for(var i in t)s(e,i,t[i])}function l(e,t){void 0===t&&(t=!("none"!=e.style.display)),e.style.display=t?"":"none"}function c(e){return e+"px"}function h(e){return"string"==typeof e?"translateX("+e+")":"translateX("+c(e)+")"}function d(e,t){return"number"==typeof e&&(e=c(e)),void 0===t?"translate("+e+")":("number"==typeof t&&(t=c(t)),"translate("+e+","+t+")")}function f(e){return"scale("+e+")"}Object.defineProperty(i,"__esModule",{value:!0}),i.camelCaseToTitleCase=n,i.getVendorJsPropertyName=o,i.setStyle=s,i.getStyle=a,i.setStyles=u,i.toggle=l,i.px=c,i.translateX=h,i.translate=d,i.scale=f;var p=Object.create(null),v=["Webkit","webkit","Moz","moz","ms","O","o"]},{}],116:[function(e,t,i){"use strict";function n(e,t,i,n){var r=(e.styleSheets.length,e.createElement("style"));r.textContent=t;var s=null;n?r.setAttribute("amp-runtime",""):s=e.querySelector("style[amp-runtime]"),o(e.head,r,s);var a=function(){for(var t=e.styleSheets,i=0;i<t.length;i++){var n=t[i];if(n.ownerNode==r)return!0}return!1};if(a())return void i();var u=setInterval(function(){a()&&(clearInterval(u),i())},4)}function r(e){var t=void 0,i=function(){e.body&&(e.body.style.opacity=1,clearInterval(t))};t=setInterval(i,4),i()}function o(e,t,i){i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild)}Object.defineProperty(i,"__esModule",{value:!0}),i.installStyles=n,i.makeBodyVisible=r},{}],117:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t,this.resolved_=Promise.resolve(),this.taskCount_=0,this.canceled_={}}return babelHelpers.createClass(e,[{key:"now",value:function(){return Number(new Date)}},{key:"delay",value:function(e,t){var i=this;if(!t){var n="p"+this.taskCount_++;return this.resolved_.then(function(){return i.canceled_[n]?void delete i.canceled_[n]:void e()}),n}return this.win.setTimeout(e,t)}},{key:"cancel",value:function(e){return"string"==typeof e?void(this.canceled_[e]=!0):void this.win.clearTimeout(e)}},{key:"promise",value:function(e,t){var i=this,n=null;return new Promise(function(r,o){n=i.delay(function(){n=-1,r(t)},e),-1==n&&o(new Error("Failed to schedule timer."))})["catch"](function(e){return-1!=n&&i.cancel(n),Promise.reject(e)})}},{key:"timeoutPromise",value:function(e,t){var i=this,n=null,r=new Promise(function(t,r){n=i.delay(function(){n=-1,r("timeout")},e),-1==n&&r(new Error("Failed to schedule timer."))})["catch"](function(e){return-1!=n&&i.cancel(n),Promise.reject(e)});return t?Promise.race([r,t]):r}}]),e}();i.Timer=n;var r=new n(window);i.timer=r},{}],118:[function(e,t,i){"use strict";function n(e){var t=document.createElement("a");t.href=e;var i={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash};return i.origin=t.origin||s(i),u.assert(i.origin,"Origin must exist"),i}function r(e,t){var i=n(e);u.assert("https:"==i.protocol||/^(\/\/)/.test(e)||"localhost"==i.hostname||i.hostname.endsWith(".localhost"),'%s source must start with "https://" or "//" or be relative and served from https. Invalid value: %s',t,e)}function o(e){var t=Object.create(null);if(!e)return t;(e.startsWith("?")||e.startsWith("#"))&&(e=e.substr(1));for(var i=e.split("&"),n=0;n<i.length;n++){var r=i[n],o=r.indexOf("="),s=void 0,a=void 0;-1!=o?(s=decodeURIComponent(r.substring(0,o)).trim(),a=decodeURIComponent(r.substring(o+1)).trim()):(s=decodeURIComponent(r).trim(),a=""),s&&(t[s]=a)}return t}function s(e){return e.protocol+"//"+e.host}function a(e){var t=e.indexOf("#");return-1==t?e:e.substring(0,t)}Object.defineProperty(i,"__esModule",{value:!0}),i.parseUrl=n,i.assertHttpsUrl=r,i.parseQueryString=o,i.removeFragment=a;var u=e("./asserts")},{"./asserts":84}],119:[function(e,t,i){"use strict";function n(e){if(r.getMode().development){var t=e.location.href;if(!t.startsWith("about:")){var i=document.createElement("script");i.src="https://www.gstatic.com/amphtml/v0/validator.js",i.onload=function(){e.document.head.removeChild(i),amp.validator.validateUrlAndLog(t)},e.document.head.appendChild(i)}}}Object.defineProperty(i,"__esModule",{value:!0}),i.maybeValidate=n;var r=e("./mode")},{"./mode":103}],120:[function(e,t,i){"use strict";function n(e,t){var i=c.parseQueryString(e);for(var n in i)t[n]=i[n]}function r(e){return u.getService(e,"viewer",function(){return new m(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.parseParams_=n,i.viewerFor=r;var o=e("./observable"),s=e("./asserts"),a=e("./document-state"),u=e("./service"),l=e("./log"),c=e("./url"),h=e("./platform"),d="Viewer",f="__AMP__",p={NATURAL:"natural",VIRTUAL:"virtual",NATURAL_IOS_EMBED:"natural-ios-embed"};i.ViewportType=p;var v={VISIBLE:"visible",HIDDEN:"hidden"};i.VisibilityState=v;var m=function(){function e(t){var i=this;if(babelHelpers.classCallCheck(this,e),this.win=t,this.docState_=a.documentStateFor(window),this.isRuntimeOn_=!0,this.overtakeHistory_=!1,this.visibilityState_=v.VISIBLE,this.prerenderSize_=1,this.viewportType_=p.NATURAL,this.viewportWidth_=0,this.viewportHeight_=0,this.scrollTop_=0,this.paddingTop_=0,this.runtimeOnObservable_=new o.Observable,this.visibilityObservable_=new o.Observable,this.viewportObservable_=new o.Observable,this.historyPoppedObservable_=new o.Observable,this.messageDeliverer_=null,this.messageQueue_=[],this.params_={},this.win.name&&0==this.win.name.indexOf(f)&&n(this.win.name.substring(f.length),this.params_),this.win.location.hash&&n(this.win.location.hash,this.params_),l.log.fine(d,"Viewer params:",this.params_),this.isRuntimeOn_=!parseInt(this.params_.off,10),l.log.fine(d,"- runtimeOn:",this.isRuntimeOn_),this.overtakeHistory_=parseInt(this.params_.history,10)||this.overtakeHistory_,l.log.fine(d,"- history:",this.overtakeHistory_),this.visibilityState_=this.params_.visibilityState||this.visibilityState_,l.log.fine(d,"- visibilityState:",this.visibilityState_),this.prerenderSize_=parseInt(this.params_.prerenderSize,10)||this.prerenderSize_,l.log.fine(d,"- prerenderSize:",this.prerenderSize_),this.viewportType_=this.params_.viewportType||this.viewportType_,this.viewportType_==p.NATURAL&&this.win.parent&&h.platform.isIos()&&(this.viewportType_=p.NATURAL_IOS_EMBED),l.log.fine(d,"- viewportType:",this.viewportType_),this.viewportWidth_=parseInt(this.params_.width,10)||this.viewportWidth_,l.log.fine(d,"- viewportWidth:",this.viewportWidth_),this.viewportHeight_=parseInt(this.params_.height,10)||this.viewportHeight_,l.log.fine(d,"- viewportHeight:",this.viewportHeight_),this.scrollTop_=parseInt(this.params_.scrollTop,10)||this.scrollTop_,l.log.fine(d,"- scrollTop:",this.scrollTop_),this.paddingTop_=parseInt(this.params_.paddingTop,10)||this.paddingTop_,l.log.fine(d,"- padding-top:",this.paddingTop_),this.docState_.onVisibilityChanged(function(){i.visibilityObservable_.fire()}),this.win.parent&&this.win.parent!=this.win){var r=c.removeFragment(this.win.location.href);r!=this.win.location.href&&this.win.history.replaceState&&(this.win.history.replaceState({},"",r),l.log.fine(d,"replace url:"+this.win.location.href))}}return babelHelpers.createClass(e,[{key:"getParam",value:function(e){return this.params_[e]}},{key:"isRuntimeOn",value:function(){return this.isRuntimeOn_}},{key:"toggleRuntime",value:function(){this.isRuntimeOn_=!this.isRuntimeOn_,l.log.fine(d,"Runtime state:",this.isRuntimeOn_),this.runtimeOnObservable_.fire(this.isRuntimeOn_)}},{key:"onRuntimeState",value:function(e){return this.runtimeOnObservable_.add(e)}},{key:"isOvertakeHistory",value:function(){return this.overtakeHistory_}},{key:"getVisibilityState",value:function(){return this.visibilityState_}},{key:"isVisible",value:function(){return this.visibilityState_==v.VISIBLE&&!this.docState_.isHidden()}},{key:"getPrerenderSize",value:function(){return this.prerenderSize_}},{key:"getViewportType",value:function(){return this.viewportType_}},{key:"getViewportWidth",value:function(){return this.viewportWidth_}},{key:"getViewportHeight",value:function(){return this.viewportHeight_}},{key:"getScrollTop",value:function(){return this.scrollTop_}},{key:"getPaddingTop",value:function(){return this.paddingTop_}},{key:"onVisibilityChanged",value:function(e){return this.visibilityObservable_.add(e)}},{key:"onViewportEvent",value:function(e){return this.viewportObservable_.add(e)}},{key:"onHistoryPoppedEvent",value:function(e){return this.historyPoppedObservable_.add(e)}},{key:"postDocumentReady",value:function(e,t){this.sendMessage_("documentLoaded",{width:e,height:t},!1)}},{key:"postDocumentResized",value:function(e,t){this.sendMessage_("documentResized",{width:e,height:t},!1)}},{key:"requestFullOverlay",value:function(){return this.sendMessage_("requestFullOverlay",{},!0)}},{key:"cancelFullOverlay",value:function(){return this.sendMessage_("cancelFullOverlay",{},!0)}},{key:"postPushHistory",value:function(e){return this.sendMessage_("pushHistory",{stackIndex:e},!0)}},{key:"postPopHistory",value:function(e){return this.sendMessage_("popHistory",{stackIndex:e},!0)}},{key:"receiveMessage",value:function(e,t,i){return"viewport"==e?(void 0!==t.width&&(this.viewportWidth_=t.width),void 0!==t.height&&(this.viewportHeight_=t.height),void 0!==t.paddingTop&&(this.paddingTop_=t.paddingTop),void 0!==t.scrollTop&&(this.scrollTop_=t.scrollTop),void this.viewportObservable_.fire()):"historyPopped"==e?(this.historyPoppedObservable_.fire({newStackIndex:t.newStackIndex}),Promise.resolve()):"visibilitychange"==e?(void 0!==t.state&&(this.visibilityState_=t.state),void 0!==t.prerenderSize&&(this.prerenderSize_=t.prerenderSize),l.log.fine(d,"visibilitychange event:",this.visibilityState_,this.prerenderSize_),this.visibilityObservable_.fire(),Promise.resolve()):void l.log.fine(d,"unknown message:",e)}},{key:"setMessageDeliverer",value:function(e){var t=this;if(s.assert(!this.messageDeliverer_,"message deliverer can only be set once"),this.messageDeliverer_=e,this.messageQueue_.length>0){var i=this.messageQueue_.slice(0);this.messageQueue_=[],i.forEach(function(e){t.messageDeliverer_(e.eventType,e.data,!1)})}}},{key:"sendMessage_",value:function(e,t,i){if(this.messageDeliverer_)return this.messageDeliverer_(e,t,i);for(var n=null,r=0;r<this.messageQueue_.length;r++)if(this.messageQueue_[r].eventType==e){n=this.messageQueue_[r];break}return n?n.data=t:this.messageQueue_.push({eventType:e,data:t}),i?Promise.resolve():void 0}}]),e}();i.Viewer=m;var y=r(window);i.viewer=y},{"./asserts":84,"./document-state":90,"./log":102,"./observable":104,"./platform":106,"./service":112,"./url":118}],121:[function(e,t,i){"use strict";function n(e){var t=f.viewerFor(e),i=void 0;return i="virtual"==t.getViewportType()?new g(e,t):"natural-ios-embed"==t.getViewportType()?new y(e):new m(e),new v(i,t)}function r(e){return s.getService(e,"viewport",function(){return n(e)})}Object.defineProperty(i,"__esModule",{value:!0}),i.viewportFor=r;var o=e("./observable"),s=e("./service"),a=e("./layout-rect"),u=e("./log"),l=e("./document-state"),c=e("./platform"),h=e("./style"),d=e("./timer"),f=e("./viewer"),p="Viewport",v=function(){function e(t,i){var n=this;babelHelpers.classCallCheck(this,e),this.binding_=t,this.viewer_=i,this.width_=this.getSize().width,this.scrollTop_=this.binding_.getScrollTop(),this.paddingTop_=i.getPaddingTop(),this.scrollMeasureTime_=0,this.scrollTracking_=!1,this.changeObservable_=new o.Observable,this.viewer_.onViewportEvent(function(){n.binding_.updateViewerViewport(n.viewer_);var e=n.viewer_.getPaddingTop();e!=n.paddingTop_&&(n.paddingTop_=e,n.binding_.updatePaddingTop(n.paddingTop_))}),this.binding_.updateViewerViewport(this.viewer_),this.binding_.updatePaddingTop(this.paddingTop_),this.binding_.onScroll(this.scroll_.bind(this)),this.binding_.onResize(this.resize_.bind(this)),this.changed_(!1,0)}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){this.binding_.cleanup_()}},{key:"getPaddingTop",value:function(){return this.paddingTop_}},{key:"getTop",value:function(){return this.scrollTop_}},{key:"getSize",value:function(){return this.binding_.getSize()}},{key:"getRect",value:function(){var e=this.binding_.getScrollTop(),t=this.binding_.getScrollLeft(),i=this.binding_.getSize();return a.layoutRectLtwh(t,e,i.width,i.height)}},{key:"getLayoutRect",value:function(e){return this.binding_.getLayoutRect(e)}},{key:"onChanged",value:function(e){return this.changeObservable_.add(e)}},{key:"changed_",value:function(e,t){var i=this.getSize();u.log.fine(p,"changed event: relayoutAll="+e+"; top="+this.scrollTop_+"; bottom="+(this.scrollTop_+i.height)+"; velocity="+t),this.changeObservable_.fire({relayoutAll:e,top:this.scrollTop_,width:i.width,height:i.height,velocity:t})}},{key:"scroll_",value:function(){var e=this;if(!this.scrollTracking_){var t=this.binding_.getScrollTop();0>t||(this.scrollTracking_=!0,this.scrollTop_=t,this.scrollMeasureTime_=d.timer.now(),d.timer.delay(function(){return e.scrollDeferred_()},500))}}},{key:"scrollDeferred_",value:function(){var e=this;this.scrollTracking_=!1;var t=this.binding_.getScrollTop(),i=d.timer.now(),n=0;i!=this.scrollMeasureTime_&&(n=(t-this.scrollTop_)/(i-this.scrollMeasureTime_)),u.log.fine(p,"scroll: scrollTop="+t+"; velocity="+n),this.scrollTop_=t,this.scrollMeasureTime_=i,Math.abs(n)<.02?this.changed_(!1,n):d.timer.delay(function(){e.scrollTracking_||e.scrollDeferred_()},250)}},{key:"resize_",value:function(){var e=this.width_;this.width_=this.getSize().width,this.changed_(e!=this.width_,0)}}]),e}();i.Viewport=v;var m=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"onScroll",value:function(e){}},{key:"onResize",value:function(e){}},{key:"updateViewerViewport",value:function(e){}},{key:"updatePaddingTop",value:function(e){}},{key:"getSize",value:function(){}},{key:"getScrollTop",value:function(){}},{key:"getScrollLeft",value:function(){}},{key:"getLayoutRect",value:function(e){}},{key:"cleanup_",value:function(){}}]),e}(),function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e),this.win=t,this.scrollObservable_=new o.Observable,this.resizeObservable_=new o.Observable,this.win.addEventListener("scroll",function(){return i.scrollObservable_.fire()}),this.win.addEventListener("resize",function(){return i.resizeObservable_.fire()}),u.log.fine(p,"initialized natural viewport")}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){}},{key:"onScroll",value:function(e){this.scrollObservable_.add(e)}},{key:"onResize",value:function(e){this.resizeObservable_.add(e)}},{key:"updateViewerViewport",value:function(e){}},{key:"updatePaddingTop",value:function(e){this.win.document.documentElement.style.paddingTop=h.px(e)}},{key:"getSize",value:function(){if(c.platform.isIos()&&!c.platform.isChrome()){var e=this.win.innerWidth,t=this.win.innerHeight;if(e&&t)return{width:e,height:t}}var i=this.win.document.documentElement;return{width:i.clientWidth,height:i.clientHeight}}},{key:"getScrollTop",value:function(){return this.getScrollingElement_().scrollTop||this.win.pageYOffset}},{key:"getScrollLeft",value:function(){return this.getScrollingElement_().scrollLeft||this.win.pageXOffset}},{key:"getLayoutRect",value:function(e){var t=this.getScrollTop(),i=this.getScrollLeft(),n=e.getBoundingClientRect();return a.layoutRectLtwh(Math.round(n.left+i),Math.round(n.top+t),Math.round(n.width),Math.round(n.height))}},{key:"getScrollingElement_",value:function(){var e=this.win.document;return e.scrollingElement?e.scrollingElement:e.body?e.body:e.documentElement}}]),e}());i.ViewportBindingNatural_=m;var y=function(){function e(t){var i=this;babelHelpers.classCallCheck(this,e),this.win=t,this.scrollPosEl_=null,this.scrollMoveEl_=null,this.pos_={x:0,y:0},this.scrollObservable_=new o.Observable,this.resizeObservable_=new o.Observable,l.onDocumentReady(this.win.document,this.setup_.bind(this)),this.win.addEventListener("resize",function(){return i.resizeObservable_.fire()}),u.log.fine(p,"initialized natural viewport for iOS embeds")}return babelHelpers.createClass(e,[{key:"setup_",value:function(){var e=this.win.document.documentElement,t=this.win.document.body;h.setStyles(e,{overflow:"auto",webkitOverflowScrolling:"touch"}),h.setStyles(t,{overflow:"auto",webkitOverflowScrolling:"touch",position:"absolute",top:0,left:0,right:0,bottom:0}),this.scrollPosEl_=this.win.document.createElement("div"),this.scrollPosEl_.id="-amp-scrollpos",h.setStyles(this.scrollPosEl_,{position:"absolute",top:0,left:0,width:0,height:0,visibility:"hidden"}),t.appendChild(this.scrollPosEl_),this.scrollMoveEl_=this.win.document.createElement("div"),this.scrollMoveEl_.id="-amp-scrollmove",h.setStyles(this.scrollMoveEl_,{position:"absolute",top:0,left:0,width:0,height:0,visibility:"hidden"}),t.appendChild(this.scrollMoveEl_),t.addEventListener("scroll",this.onScrolled_.bind(this))}},{key:"updateViewerViewport",value:function(e){}},{key:"updatePaddingTop",value:function(e){var t=this;l.onDocumentReady(this.win.document,function(){t.win.document.body.style.paddingTop=h.px(e)})}},{key:"cleanup_",value:function(){}},{key:"onScroll",value:function(e){this.scrollObservable_.add(e)}},{key:"onResize",value:function(e){this.resizeObservable_.add(e)}},{key:"getSize",value:function(){return{width:this.win.innerWidth,height:this.win.innerHeight}}},{key:"getScrollTop",value:function(){return Math.round(this.pos_.y)}},{key:"getScrollLeft",value:function(){return Math.round(this.pos_.x)}},{key:"getLayoutRect",value:function(e){var t=e.getBoundingClientRect();return a.layoutRectLtwh(Math.round(t.left+this.pos_.x),Math.round(t.top+this.pos_.y),Math.round(t.width),Math.round(t.height))}},{key:"onScrolled_",value:function(e){if(this.scrollPosEl_){this.adjustScrollPos_(e);var t=this.scrollPosEl_.getBoundingClientRect();(this.pos_.x!=-t.left||this.pos_.y!=-t.top)&&(this.pos_.x=-t.left,this.pos_.y=-t.top,this.scrollObservable_.fire())}}},{key:"setScrollPos_",value:function(e){this.scrollMoveEl_&&(h.setStyle(this.scrollMoveEl_,"transform","translateY("+e+"px)"),this.scrollMoveEl_.scrollIntoView(!0))}},{key:"adjustScrollPos_",value:function(e){if(this.scrollPosEl_&&this.scrollMoveEl_){var t=-this.scrollPosEl_.getBoundingClientRect().top;return 0==t?(this.setScrollPos_(1),void(e&&e.preventDefault())):void 0}}}]),e}();i.ViewportBindingNaturalIosEmbed_=y;var g=function(){function e(t,i){babelHelpers.classCallCheck(this,e),this.win=t,this.width_=i.getViewportWidth(),this.height_=i.getViewportHeight(),this.scrollTop_=i.getScrollTop(),this.scrollObservable_=new o.Observable,this.resizeObservable_=new o.Observable,u.log.fine(p,"initialized virtual viewport")}return babelHelpers.createClass(e,[{key:"cleanup_",value:function(){}},{key:"updateViewerViewport",value:function(e){e.getScrollTop()!=this.scrollTop_&&(this.scrollTop_=e.getScrollTop(),this.scrollObservable_.fire()),(e.getViewportWidth()!=this.width_||e.getViewportHeight()!=this.height_)&&(this.width_=e.getViewportWidth(),this.height_=e.getViewportHeight(),this.resizeObservable_.fire())}},{key:"updatePaddingTop",value:function(e){this.win.document.documentElement.style.paddingTop=h.px(e)}},{key:"onScroll",value:function(e){this.scrollObservable_.add(e)}},{key:"onResize",value:function(e){this.resizeObservable_.add(e)}},{key:"getSize",value:function(){return{width:this.width_,height:this.height_}}},{key:"getScrollTop",value:function(){return this.scrollTop_}},{key:"getScrollLeft",value:function(){return 0}},{key:"getLayoutRect",value:function(e){var t=e.getBoundingClientRect();return a.layoutRectLtwh(Math.round(t.left),Math.round(t.top),Math.round(t.width),Math.round(t.height))}}]),e}();i.ViewportBindingVirtual_=g;var _=r(window);i.viewport=_},{"./document-state":90,"./layout-rect":99,"./log":102,"./observable":104,"./platform":106,"./service":112,"./style":115,"./timer":117,"./viewer":120}],122:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./timer"),r=function(){function e(t){babelHelpers.classCallCheck(this,e),this.win=t}return babelHelpers.createClass(e,[{key:"run",value:function(e,t){var i=t||{};this.win.requestAnimationFrame(function(){e.measure&&e.measure(i),e.mutate(i)})}},{key:"mutate",value:function(e){this.run({mutate:e})}},{key:"createTask",value:function(e){var t=this;return function(i){t.run(e,i)}}},{key:"runMutateSeries",value:function(e,t){var i=this;return new Promise(function(r,o){var s=n.timer.now(),a=0,u=i.createTask({mutate:function(i){var l=n.timer.now()-s,c=e(l,l-a,i);c?t&&l>t?o("timeout"):(a=l,u(i)):r()}});u({})})}}]),e}();i.Vsync=r;var o=new r(window);i.vsync=o},{"./timer":117}]},{},[83])}catch(e){throw setTimeout(function(){document.body.style.opacity=1},1e3),e}
//# sourceMappingURL=v0.js.map
